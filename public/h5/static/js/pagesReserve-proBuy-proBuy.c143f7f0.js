(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesReserve-proBuy-proBuy"],{"60d5":function(t,e,a){"use strict";var i=a("af4a"),n=a.n(i);n.a},7373:function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("e814"));a("ac6a");var s=i(a("f499")),o=i(a("bd86"));a("28a5");var d=i(a("59ad")),l=a("7131"),r={data:function(){return{$imgurl:this.$imgurl,$host:this.$host,baseinfo:"",id:"",bg:"",couponlist:[],picList:[],datas:{},comment:"",jhsl:1,dprice:"",yhje:0,hjjg:0,sfje:0,order:"",pro_name:"",pro_tel:"",pro_address:"",pro_txt:"",my_num:"",xg_num:"",shengyu:"",userInfo:"",chuydate:"选择日期",chuytime:"选择时间",num:{},duogg:[],xz_num:[],couponprice:0,jqdjg:"请选择",yhqid:"0",oldsfje:"",pagedata:{},imgcount_xz:0,pagedata_set:[],zhixin:!1,xuanz:0,lixuanz:-1,ttcxs:0,chooseNum:0,myscore:0,jifen_u:2,zf_money:0,dkmoney:0,type:"",testKey:"",testKeys:"",order_id:"",pd_val:[],formId:"",sw:!1,showModalStatus:!1,zf_type:0,mymoney:0,show_pay_type:0,h5pay:0,dopay:"",pay_type:1,alipay:1,wxpay:1,needBind:!1,needAuth:!1,dkscore:0,xx:[],arrs:[],wxmobile:"",myname:"",mymobile:"",myaddress:"",discounts:0,ischecked:!1,storeall:"",storeid:"",is_submit:1}},onLoad:function(t){var e=this,a=t.id;e.id=a,void 0!=t.testPrice&&(e.testPrice=t.testPrice),void 0!=t.testKey&&(e.testKey=t.testKey),void 0!=t.testKeys&&(e.testKeys=t.testKeys),"table"==t.type&&(e.type=t.type,e.NowSelectStr=t.NowSelectStr,e.appoint_date=t.appoint_date);var i=0;t.fxsid&&(i=t.fxsid),this.fxsid=i,this._baseMin(this),l.h5login(i,function(){var t=e.id;e.getShowPic(t)})},methods:{closeAuth:function(){this.needAuth=!1,this._checkBindPhone(this)},closeBind:function(){this.needBind=!1,this.getShowPic(this.id)},getStore:function(t){this.storeid=t.currentTarget.dataset.id},getShowPic:function(t){var e=this;uni.request({url:e.$baseurl+"doPagemycoupon",data:{suid:uni.getStorageSync("suid"),flag:0,uniacid:e.$uniacid,id:e.id,type:"yuyue"},success:function(t){e.couponlist=t.data.data},fail:function(t){}}),uni.request({url:e.$baseurl+"doPageshowPro",data:{id:t,suid:uni.getStorageSync("suid"),uniacid:e.$uniacid},cachetime:"30",success:function(t){var a=t.data.data.userinfo.grade,i=t.data.data.stores;""!=i&&(e.storeall=i,e.storeid=i[0]["id"]);var n=t.data.data.discount_status;if(a>0&&n>0){var s=t.data.data.discount;if(2==n){if(s.length>0)for(var o=0;o<s.length;o++)if(a==s[o]["grade"]){var l=s[o]["discount"];break}}else l=s}else l=0;var r=t.data.data.userinfo.money,c=t.data.data.userinfo.score;t.data.data.price;if("table"!=e.type){var u=e.yhje;if(0==t.data.data.pro_xz)v=1;else var v=t.data.data.pro_xz-t.data.data.my_num;var p=t.data.data.more_type_x,h=[],f={},_=0;for(o=0;o<p.length;o++)f[o]=0,h.push(f),_+=0*p[o][1];e.bg=t.data.data.text[0],e.picList=t.data.data.text,e.title=t.data.data.title,e.datas=t.data.data,e.duogg=p,e.hjjg=_,e.zf_money=_,e.dprice=_,e.sfje=_-u,e.myscore=(0,d.default)(t.data.data.userinfo.score),e.mymoney=(0,d.default)(t.data.data.userinfo.money),e.xz_num=t.data.data.more_type_num,e.num=h,e.xg_num=t.data.data.pro_xz,e.shengyu=t.data.data.pro_kc,e.xg_buy=v,e.pagedata=t.data.data.forms,e.formdescs=t.data.data.formdescs,e.discounts=l;var g=e.testKey;""!=g&&e.jia();var y=e.testKeys;if(console.log(y),1==y&&p.length>0)for(o=0;o<p.length;o++)e.testPrice=p[o][1],e.testKey=o,e.jia()}else{u=e.yhje;var w,m,x=e.NowSelectStr.split(","),b=x.length;for(o=0;o<b;o++)w=x[o].split("a"),m=t.data.data.table.rowstr[w[0]-1]+"，",m+=t.data.data.table.columnstr[w[1]-1],x[o]=m;e.myscore=c,e.mymoney=r,e.select_arr=x,e.bg=t.data.data.text[0],e.title=t.data.data.title,e.datas=t.data.data,e.hjjg=t.data.data.price*b,e.zf_money=t.data.data.price*b,e.dprice=t.data.data.price,e.select_num=b,e.sfje=Math.floor(100*(t.data.data.price*b-u))/100,e.pagedata=t.data.data.forms,e.formdescs=t.data.data.formdescs,e.discounts=l}uni.setNavigationBarTitle({title:e.title}),uni.setStorageSync("isShowLoading",!1),uni.hideNavigationBarLoading(),uni.stopPullDownRefresh(),uni.request({url:e.$baseurl+"doPagegetmoneyoff",data:{uniacid:e.$uniacid},success:function(t){for(var a=t.data.data,i="",n=0;n<a.length;n++)n==a.length-1?i+="满"+a[n].reach+"减"+a[n].del:i+="满"+a[n].reach+"减"+a[n].del+"，";e.sfje;e.moneyoff=a,e.moneyoffstr=a?i:"",e.getmyinfo()}})}})},getmyinfo:function(){var t=this,e=t.moneyoff,a=t.hjjg,i=t.discounts;if(i>0&&a>0&&(a=a*i/10,a=a<.01?.01:a.toFixed(2)),e)for(var n=e.length-1;n>=0;n--)if(a>=(0,d.default)(e[n].reach)){a-=(0,d.default)(e[n].del);break}t.sfje=a,t.zf_type=(0,d.default)(t.mymoney)>=a?0:1,t.zf_money=(0,d.default)(t.mymoney)>=a?a:Math.round(100*(a-t.mymoney))/100},jian:function(t){var e=this,a=(e.yhje,t.currentTarget.dataset.testid),i=t.currentTarget.dataset.testkey,n=e.num[i][i],s=(e.duogg,e.sfje),o=e.oldsfje,d=e.hjjg;if(n--,n<0)n=0;else{var l=Math.round(100*o-100*a*n+100*a*(n-1))/100;s=l,d=l,o=l;var r=e.num;r[i][i]=n;var c=e.chooseNum-1;e.num=r,e.sfje=s,e.hjjg=d,e.jqdjg="请选择",e.oldsfje=o,e.yhqid=0,e.chooseNum=c,e.ischecked=!1,e.dkscore=0,e.dkmoney=0,e.jifen_u=2,e.getmyinfo()}},jia:function(t){var e=this;e.yhje;if(void 0==t){var a=e.testKey;if(""!==a)var i=e.testPrice}else i=t.currentTarget.dataset.testid,a=t.currentTarget.dataset.testkey;var n=e.num[a][a],s=(e.duogg,e.sfje,e.oldsfje),o=e.hjjg,d=e.xz_num,l=d[a].shennum;if(n++,n>l)return n--,uni.showModal({title:"提醒",content:"库存量不足！",showCancel:!1}),!1;var r=Math.round(100*i*n+100*s-100*i*(n-1))/100;s=r,o=r;var c=e.num;e.datas;c[a][a]=n;var u=e.chooseNum+1;e.num=c,e.hjjg=o,e.jqdjg="请选择",e.oldsfje=s,e.yhqid=0,e.chooseNum=u,e.ischecked=!1,e.dkscore=0,e.dkmoney=0,e.jifen_u=2,e.getmyinfo()},changealipay:function(){this.pay_type=1},changewxpay:function(){this.pay_type=2},close_pay_type:function(){this.show_pay_type=0,uni.navigateTo({url:"/pagesReserve/orderList/orderList"})},h5topay:function(){var t=this.pay_type;1==t?this.pay3(this.orderid):2==t&&this.pay5(this.orderid),this.show_pay_type=0},pay3:function(t){var e,a=this;console.log("支付宝H5支付"),uni.request({url:this.$baseurl+"doPageHfivepay",data:(e={uniacid:this.$uniacid,order_id:t,suid:uni.getStorageSync("suid"),types:9},(0,o.default)(e,"suid",uni.getStorageSync("suid")),(0,o.default)(e,"money",a.zf_money),e),success:function(e){1==e.data.flag&&uni.navigateTo({url:"/pages/aliH5pay/aliH5pay?id="+t+"&type=9"})}})},pay5:function(t){var e=this;console.log("微信H5支付"),uni.request({url:this.$baseurl+"doPageHfiveWxpay",data:{uniacid:this.$uniacid,order_id:t,types:"reserve",suid:uni.getStorageSync("suid"),money:e.zf_money},success:function(e){e.data&&(console.log(e.data),uni.setStorageSync(t,e.data.mweb_url),uni.navigateTo({url:"/pages/wxH5pay/wxH5pay?order_id="+t}))}})},userNameInput:function(t){this.pro_name=t.detail.value},userTelInput:function(t){this.pro_tel=t.detail.value},userAddInput:function(t){this.pro_address=t.detail.value},userTextInput:function(t){this.pro_txt=t.detail.value},submit:l.throttle(function(t){var e=this,a=this.is_submit;if(2==a)return!1;var i=e.jhsl,n=e.shengyu,o=e.type,d=t.detail.formId;if(e.formId=d,i>n&&-1!=n&&"table"!=o)return i--,uni.showModal({title:"提醒",content:"库存量不足！",showCancel:!1}),!1;var l=e.sfje,r="",c=(e.duogg,e.num),u=e.chuydate,v=e.chuytime,p=(e.yhje,e.id),h=e.order,f=e.pro_name,_=e.pro_tel,g=e.pro_address,y=e.pro_txt,w=(e.id,e.yhqid),m=!0,x=e.hjjg,b="table"==o?e.select_num:e.chooseNum;if(0==b)return m=!1,uni.showModal({title:"提醒",content:"您至少要选择1个产品或服务",showCancel:!1}),!1;if(!f&&2==e.datas.pro_flag)return m=!1,uni.showModal({title:"提醒",content:"姓名为必填！",showCancel:!1}),!1;var k=/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(16[0-9]{1})|(17[0-9]{1})|(18[0-9]{1})|(19[0-9]{1}))+\d{8})$/;if(!_&&2==e.datas.pro_flag_tel)return m=!1,uni.showModal({title:"提醒",content:"手机号为必填！",showCancel:!1}),!1;if(!k.test(_)&&2==e.datas.pro_flag_tel)return uni.showModal({title:"提醒",content:"请输入有效的手机号码！",showCancel:!1}),!1;if(!g&&2==e.datas.pro_flag_add)return m=!1,uni.showModal({title:"提醒",content:"地址为必填！",showCancel:!1}),!1;if(0==e.datas.tableis){if("选择日期"==u&&2==e.datas.pro_flag_data)return m=!1,uni.showModal({title:"提醒",content:"请选择日期！",showCancel:!1}),!1;if("选择时间"==v&&2==e.datas.pro_flag_time)return m=!1,uni.showModal({title:"提醒",content:"请选择时间！",showCancel:!1}),!1}for(var C=e.pagedata,z=0;z<C.length;z++){if(1==C[z].ismust)if(5==C[z].type){if(""==C[z].z_val)return m=!1,uni.showModal({title:"提醒",content:C[z].name+"为必填项！",showCancel:!1}),!1}else{if(""==C[z].val)return m=!1,uni.showModal({title:"提醒",content:C[z].name+"为必填项！",showCancel:!1}),!1;if(0==C[z].type&&1==C[z]["tp_text"][0]["yval"]){var j=/^1[3456789]{1}\d{9}$/;if(!j.test(C[z].val))return uni.showModal({title:"提醒",content:"请您输入正确的手机号码",showCancel:!1}),!1}else if(0==C[z].type&&7==C[z]["tp_text"][0]["yval"]){var S=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/;if(!S.test(C[z].val))return uni.showModal({title:"提醒",content:"请您输入正确的身份证号",showCancel:!1}),!1}}if(5==C[z].type&&C[z].z_val.length>0)for(var $=0;$<C[z].z_val.length;$++){var q=C[z].z_val[$].substr(C[z].z_val[$].indexOf("/upimages"));C[z].z_val[$]=q}}if(this.is_submit=2,m){var M="",E="",T="",P="";if(""==e.storeall)M=e.baseinfo.name,E=e.baseinfo.tel,T=e.baseinfo.address;else{var N=e.storeid,I=e.storeall;for(z=0;z<I.length;z++)if(N==I[z]["id"]){M=I[z]["title"],E=I[z]["tel"],T=I[z]["province"]+I[z]["city"]+I[z]["country"],P=I[z]["times"];break}}uni.request({url:e.$baseurl+"doPagecreateorder",data:{types:"reserve",suid:uni.getStorageSync("suid"),num:(0,s.default)(c[0]),id:p,hjjg:x,zhifu:l,zf_money:e.zf_money,zf_type:e.zf_type,order:h,pro_name:f,pro_tel:_,pro_address:g,pro_txt:y,chuydate:u,chuytime:v,yhqid:w,type:"table"==e.type?"table":"",NowSelectStr:e.NowSelectStr,appoint_date:e.appoint_date,dkscore:e.dkscore,dkmoney:e.dkmoney,pagedata:(0,s.default)(C),uniacid:e.$uniacid,fid:e.datas.formset,source:uni.getStorageSync("source"),openid:r,discounts:e.discounts,store_name:M,store_tel:E,store_address:T,store_hours:P},header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){if("1"==t.data.data.errcode)uni.showModal({title:t.data.data.err,content:"请重新下单",showCancel:!1});else if("3"==t.data.data.errcode)uni.showModal({title:t.data.data.err,content:"当前库存为"+t.data.data.kc+"件",showCancel:!1});else{var a=t.data.data.orderid;e.orderid=a,l<=e.mymoney?e.pay1(a):e.showpay()}}})}},2e3),showpay:function(){this.money=this.zf_money-this.mymoney;var t=this;uni.request({url:this.$baseurl+"doPageGetH5payshow",data:{uniacid:this.$uniacid,suid:uni.getStorageSync("suid")},success:function(e){0==e.data.data.ali&&0==e.data.data.wx?uni.showModal({title:"提示",content:"请联系管理员设置支付参数",showCancel:!1,success:function(t){return!1}}):(0==e.data.data.ali?(t.alipay=0,t.pay_type=2):(t.alipay=1,t.pay_type=1),0==e.data.data.wx?t.wxpay=0:t.wxpay=1,t.show_pay_type=1)}})},bindDateChange2:function(t){this.chuydate=t.detail.value},bindTimeChange2:function(t){this.chuytime=t.detail.value},getmoney:function(t){var e=this,a=t.currentTarget.dataset.price,i=t.currentTarget.dataset.cid,n=e.couponlist[i]["pay_money"],s=e.couponlist[i]["id"],o=e.discounts;if(0==o)var l=e.hjjg;else if(o>0)l=(e.hjjg*o).toFixed(2);if(1*l<1*n)uni.showModal({title:"提示",content:"价格未满"+n+"元，不可使用该优惠券！",showCancel:!1});else{var r=(100*e.sfje-100*(0,d.default)(a)+100*e.dkmoney)/100;e.ischecked=!1,e.switchChange("false");var c=(0,d.default)(r.toPrecision(12));c<0&&(c=0),e.jqdjg=a,console.log(a),e.yhqid=s,e.sfje=c,e.oldsfje=l,e.zf_type=(0,d.default)(e.mymoney)>=(0,d.default)(c)?0:1,e.zf_money=(0,d.default)(e.mymoney)>=(0,d.default)(c)?(0,d.default)(c):Math.round(100*((0,d.default)(c)-(0,d.default)(e.mymoney)))/100}e.hideModal()},qxyh:function(){var t=this,e=t.jqdjg;"请选择"==e&&(e=0);var a=t.sfje,i=Math.round(100*a+100*e)/100;t.hideModal(),t.jqdjg=0,t.yhqid=0,t.sfje=i,t.jqdjg="请选择"},showModal:function(){this.showModalStatus=!0},hideModal:function(){this.showModalStatus=!1},bindInputChange:function(t){var e=this,a=t.detail.value,i=t.currentTarget.dataset.index,n=e.pagedata;n[i].val=a,e.pagedata=n},bindPickerChange:function(t){var e=this,a=t.detail.value,i=t.currentTarget.dataset.index,n=e.pagedata,s=n[i].tp_text,o=s[a];n[i].val=o,e.pagedata=n},bindDateChange:function(t){var e=this,a=t.detail.value,i=t.currentTarget.dataset.index,n=e.pagedata;n[i].val=a,e.pagedata=n},bindTimeChange:function(t){var e=this,a=t.detail.value,i=t.currentTarget.dataset.index,n=e.pagedata;n[i].val=a,e.pagedata=n},checkboxChange:function(t){var e=this,a=t.detail.value,i=t.currentTarget.dataset.index,n=e.pagedata;n[i].val=a,e.pagedata=n},radioChange:function(t){var e=this,a=t.detail.value,i=t.currentTarget.dataset.index,n=e.pagedata;n[i].val=a,e.pagedata=n},choiceimg:function(t){var e=this,a=0,i=e.zhixin,n=t.currentTarget.dataset.index,s=e.pagedata,o=s[n].val,d=s[n].tp_text[0];o?a=o.length:(a=0,o=[]);var l=d-a,r=e.$baseurl+"wxupimg";e.pd_val;uni.chooseImage({count:l,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){i=!0,e.zhixin=i,uni.showLoading({title:"图片上传中"});var a=t.tempFilePaths,o=0,d=a.length,l=function t(){uni.uploadFile({url:r,filePath:a[o],name:"file",success:function(a){s[n].z_val.push(a.data),e.pagedata=s,o++,o<d?t():(i=!1,e.zhixin=i,uni.hideLoading())}})};l()}})},delimg:function(t){var e=this,a=t.currentTarget.dataset.index,i=t.currentTarget.dataset.id,n=e.pagedata,s=n[a].z_val;s.splice(i,1);var o=s.length;0==o&&(s=""),n[a].z_val=s,e.pagedata=n},namexz:function(t){for(var e=this,a=t.currentTarget.dataset.index,i=e.pagedata,n=i[a],s=[],o=0;o<n.tp_text.length;o++){var d={};d["keys"]=n.tp_text[o].yval,d["val"]=1,s.push(d)}e.ttcxs=1,e.formindex=a,e.xx=s,e.xuanz=0,e.lixuanz=-1,e.riqi()},riqi:function(){for(var t=this,e=new Date,a=new Date(e.getTime()),i=a.getFullYear(),n=a.getMonth()+1,s=a.getDate(),o=i+"-"+n+"-"+s,d=t.xx,l=0;l<d.length;l++)d[l].val=1;t.xx=d,t.gettoday(o);var r=[],c=[],u=new Date;for(l=0;l<5;l++){var v=new Date(u.getTime()+24*l*3600*1e3),p=v.getFullYear(),h=v.getMonth()+1,f=v.getDate(),_=h+"月"+f+"日",g=p+"-"+h+"-"+f;r.push(_),c.push(g)}t.arrs=r,t.fallarrs=c,t.today=o},xuanzd:function(t){for(var e=this,a=t.currentTarget.dataset.index,i=e.fallarrs,n=i[a],s=e.xx,o=0;o<s.length;o++)s[o].val=1;e.xuanz=a,e.today=n,e.lixuanz=-1,e.xx=s,e.gettoday(n)},goux:function(t){var e=this,a=t.currentTarget.dataset.index;e.lixuanz=a},gettoday:function(t){var e=this,a=e.id,i="showPro_lv_buy",n=e.formindex,s=e.xx;uni.request({url:e.$baseurl+"doPageDuzhan",data:{id:a,types:i,days:t,pagedatekey:n,uniacid:e.$uniacid},header:{"content-type":"application/json"},success:function(t){for(var a=t.data.data,i=0;i<a.length;i++)s[a[i]].val=2;var n=0;a.length==s.length&&(n=1),e.xx=s,e.isover=n}})},save:function(){var t=this,e=t.today,a=t.xx,i=t.lixuanz;if(-1==i)return uni.showModal({title:"提现",content:"请选择预约的选项",showCancel:!1}),!1;var n=a[i].keys,s="已选择"+e+"，"+n,o=t.pagedata,d=t.formindex;o[d].val=s,o[d].days=e,o[d].indexkey=d,o[d].xuanx=i,t.ttcxs=0,t.pagedata=o},quxiao:function(){var t=this;t.ttcxs=0},weixinadd:function(){var t=this;uni.chooseAddress({success:function(e){for(var a=e.provinceName+" "+e.cityName+" "+e.countyName+" "+e.detailInfo,i=e.userName,n=e.telNumber,s=t.pagedata,o=0;o<s.length;o++)0==s[o].type&&2==s[o].tp_text[0].yval&&(s[o].val=i),0==s[o].type&&3==s[o].tp_text[0].yval&&(s[o].val=n),0==s[o].type&&4==s[o].tp_text[0].yval&&(s[o].val=a);t.myname=i,t.mymobile=n,t.myaddress=a,t.pagedata=s},fail:function(t){uni.getSetting({success:function(t){t.authSetting["scope.address"]||uni.openSetting({success:function(t){}})}})}})},switchChange:function(t){var e=this;if("false"==t)var a=!1;else a=!e.ischecked;uni.getStorageSync("suid");var i=e.sfje,s=0,o=e.type,d="table"==o?e.select_num:e.chooseNum;if(1==a)uni.request({url:e.$baseurl+"doPagescoreDeduction",data:{id:e.id,num:d,suid:uni.getStorageSync("suid"),is_more:1,uniacid:e.$uniacid},header:{"content-type":"application/json"},success:function(t){var a=t.data;s=a["moneycl"];var o=a["gzmoney"],d=a["gzscore"];if(i<s&&(s=(0,n.default)(i)),0==s)var l=0;else l=s*d/o;i=Math.round(100*(i-s))/100,e.sfje=i,e.dkmoney=s,e.dkscore=l,e.jifen_u=1,e.zf_type=e.mymoney>=i?0:1,e.zf_money=e.mymoney>=i?i:Math.round(100*(i-e.mymoney))/100,e.ischecked=!0}});else{var l=e.zf_money;s=e.dkmoney;l=Math.round(100*l+100*s)/100,i=l,e.dkmoney=0,e.dkscore=0,e.jifen_u=0,e.zf_money=l,e.sfje=i,e.ischecked=!1}},pay1:function(t){var e=this;uni.showModal({title:"请注意",content:"您将使用余额支付"+e.sfje+"元",success:function(a){a.confirm?(e.payover_do(t),uni.showLoading({title:"下单中...",mask:!0}),setTimeout(function(){uni.hideLoading()},3e3)):uni.redirectTo({url:"/pagesReserve/orderList/orderList"})},fail:function(t){uni.redirectTo({url:"/pagesReserve/orderList/orderList"})}})},pay2:function(t){var e=this,a=(uni.getStorageSync("openid"),e.sfje),i=e.zf_money,n=e.hjjg;uni.request({url:e.$baseurl+"doPagebeforepay",data:{openid:uni.getStorageSync("openid"),suid:uni.getStorageSync("suid"),price:n,pay_price:i,true_price:a,order_id:t,types:"reserve",formId:e.formId,uniacid:e.$uniacid},header:{"content-type":"application/json"},success:function(a){var i=[1,2,3,4];-1!=i.indexOf(a.data.data.err)&&uni.showModal({title:"支付失败",content:a.data.data.message,showCancel:!1}),0==a.data.data.err&&(uni.request({url:e.$baseurl+"doPagesavePrepayid",data:{types:"reserve",order_id:t,prepayid:a.data.data.package,uniacid:e.$uniacid},success:function(t){},fail:function(t){}}),uni.requestPayment({timeStamp:a.data.data.timeStamp,nonceStr:a.data.data.nonceStr,package:a.data.data.package,signType:"MD5",paySign:a.data.data.paySign,success:function(t){uni.showToast({title:"支付成功",icon:"success",mask:!0,duration:3e3,success:function(t){uni.showToast({title:"购买成功！",icon:"success",success:function(){uni.navigateTo({url:"/pagesReserve/orderList/orderList"})}})}})},fail:function(t){uni.navigateTo({url:"/pagesReserve/orderList/orderList"})},complete:function(t){}}))}})},payover_do:function(t){var e=this,a=e.sfje,i="";uni.request({url:e.$baseurl+"doPagepaynotify",data:{out_trade_no:t,suid:uni.getStorageSync("suid"),openid:i,source:uni.getStorageSync("source"),payprice:a,types:"reserve",flag:0,formId:e.formId,uniacid:e.$uniacid},success:function(t){uni.showToast({title:"购买成功！",icon:"success",mask:!0,success:function(){uni.navigateTo({url:"/pagesReserve/orderList/orderList"})}})}})},refreshSessionkey:function(){var t=this;uni.login({success:function(e){uni.request({url:t.$baseurl+"doPagegetNewSessionkey",data:{uniacid:t.$uniacid,code:e.code},success:function(e){t.newSessionKey=e.data.data}})}})},getPhoneNumber:function(t){var e=this,a=t.detail.iv,i=t.detail.encryptedData;"getPhoneNumber:ok"==t.detail.errMsg?uni.checkSession({success:function(){uni.request({url:e.$baseurl+"doPagejiemiNew",data:{uniacid:e.$uniacid,newSessionKey:e.newSessionKey,iv:a,encryptedData:i},success:function(t){if(t.data.data){for(var a=e.pagedata,i=0;i<a.length;i++)0==a[i].type&&5==a[i].tp_text[0].yval&&(a[i].val=t.data.data);e.wxmobile=t.data.data,e.pagedata=a}else uni.showModal({title:"提示",content:"sessionKey已过期，请下拉刷新！"})},fail:function(t){}})},fail:function(){uni.showModal({title:"提示",content:"sessionKey已过期，请下拉刷新！"})}}):uni.showModal({title:"提示",content:"请先授权获取您的手机号！",showCancel:!1})}}};e.default=r},"8c5a":function(t,e,a){"use strict";a.r(e);var i=a("7373"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},af4a:function(t,e,a){var i=a("f030");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("c03ec62c",i,!0,{sourceMap:!1,shadowMode:!1})},bb15:function(t,e,a){"use strict";a.r(e);var i=a("dc45"),n=a("8c5a");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("60d5");var o=a("2877"),d=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"32da69e4",null);e["default"]=d.exports},dc45:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$imgurl?a("div",[t.needAuth?a("auth",{attrs:{needAuth:t.needAuth},on:{closeAuth:function(e){arguments[0]=e=t.$handleEvent(e),t.closeAuth.apply(void 0,arguments)}}}):t._e(),t.needBind?a("bindPhone",{attrs:{needBind:t.needBind},on:{closeBind:function(e){arguments[0]=e=t.$handleEvent(e),t.closeBind.apply(void 0,arguments)}}}):t._e(),t.storeall?a("v-uni-view",[a("v-uni-view",{staticClass:"choose_title"},[a("v-uni-image",{staticStyle:{width:"26rpx",height:"26rpx","margin-right":"10rpx",display:"block"},attrs:{src:t.$imgurl+"dian.png",mode:"widthFix"}}),t._v("选取自提门店")],1),a("v-uni-view",{staticClass:"contact_shop"},[a("v-uni-view",[a("v-uni-radio-group",{staticStyle:{width:"100%"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.radioChange1.apply(void 0,arguments)}}},[a("v-uni-scroll-view",{staticStyle:{"white-space":"nowrap",width:"100%"},attrs:{"scroll-x":"true","scroll-left":"0"}},t._l(t.storeall,function(e,i){return a("v-uni-view",{key:e.id,staticStyle:{display:"inline-block",height:"260rpx",width:"100%","box-sizing":"border-box"}},[a("v-uni-view",{attrs:{"data-id":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getStore.apply(void 0,arguments)}}},[a("v-uni-label",{staticClass:"radio_choose",staticStyle:{width:"100%",height:"260rpx","text-align":"center","font-size":"26rpx"}},[a("v-uni-view",{staticStyle:{"line-height":"60rpx","margin-right":"20rpx"}},[a("v-uni-radio",{staticStyle:{transform:"scale(0.7)"},attrs:{value:e.id,checked:e.id===t.storeid}})],1),a("v-uni-view",[a("v-uni-view",{staticClass:"get_message"},[a("v-uni-view",[t._v("商家名称：")]),a("v-uni-view",[t._v(t._s(e.title))])],1),a("v-uni-view",{staticClass:"get_message"},[a("v-uni-view",[t._v("联系方式：")]),a("v-uni-view",[t._v(t._s(e.tel))])],1),a("v-uni-view",{staticClass:"get_message"},[a("v-uni-view",[t._v("商家地址：")]),a("v-uni-view",[t._v(t._s(e.province+e.city+e.country))])],1),a("v-uni-view",{staticClass:"get_message"},[a("v-uni-view",[t._v("营业时间：")]),a("v-uni-view",[t._v(t._s(e.times))])],1)],1)],1)],1)],1)}),1)],1)],1)],1)],1):t._e(),""==t.storeall?a("v-uni-view",{staticClass:"shop_qu"},[a("v-uni-view",{staticClass:"contact_shop"},[a("v-uni-view",[a("v-uni-view",[t._v("商家名称：")]),a("v-uni-view",[t._v(t._s(t.baseinfo.name))])],1),a("v-uni-view",{attrs:{"data-tel":t.baseinfo.tel},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.makePhoneCallC.apply(void 0,arguments)}}},[a("v-uni-view",[t._v("联系方式：")]),a("v-uni-view",[t._v(t._s(t.baseinfo.tel))])],1),a("v-uni-view",[a("v-uni-view",[t._v("商家地址：")]),a("v-uni-view",[t._v(t._s(t.baseinfo.address))])],1)],1)],1):t._e(),a("v-uni-view",{staticClass:"qxiq"},[a("v-uni-view",{staticClass:"thumbdx"},[a("v-uni-image",{attrs:{src:t.datas.thumb}})],1),a("v-uni-view",{staticClass:"jbxx"},[a("v-uni-view",{staticClass:"bbts"},[t._v(t._s(t.datas.title))]),a("v-uni-view",{staticClass:"zzdc"},[a("span",{staticClass:"xxdz"},[t._v("¥")]),a("span",{staticClass:"ddzd"},[t._v(t._s(t.datas.price))]),a("span",{staticClass:"xxdz"},[t._v("起")])])],1)],1),a("v-uni-view",{staticClass:"dingdxx"},[t._v("订单信息"),t.appoint_date?a("v-uni-text",{staticStyle:{color:"#FE3030","margin-left":"20rpx","font-size":"26rpx","font-weight":"normal"}},[t._v("预约时间："+t._s(t.appoint_date))]):t._e()],1),"table"!=t.type?t._l(t.datas.more_type_x,function(e,i){return a("v-uni-view",{key:i,staticClass:"shuli"},[a("v-uni-view",{staticClass:"xxbts",staticStyle:{"margin-top":"9rpx"}},[t._v(t._s(e[0]))]),a("v-uni-view",{staticClass:"jiagemeig"},[t._v("¥"+t._s(e[1])+"元")]),a("v-uni-view",{staticClass:"xxbts_r"},[a("v-uni-view",{staticClass:"jjh",attrs:{"data-testid":e[1],"data-testkey":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jia.apply(void 0,arguments)}}},[t._v("+")]),a("v-uni-input",{staticClass:"ssld",attrs:{type:"text",value:t.num[i][i],disabled:"disabled"}}),a("v-uni-view",{staticClass:"jjh",attrs:{"data-testid":e[1],"data-testkey":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jian.apply(void 0,arguments)}}},[t._v("-")])],1)],1)}):t._e(),"table"==t.type?t._l(t.select_arr,function(e,i){return a("v-uni-view",{key:i,staticClass:"shuli"},[a("v-uni-view",{staticClass:"xxbts",staticStyle:{"margin-top":"9rpx",width:"75%"}},[t._v(t._s(e))]),a("v-uni-view",{staticClass:"jiagemeig",staticStyle:{float:"right"}},[t._v("¥"+t._s(t.dprice)+"元")])],1)}):t._e(),a("v-uni-view",{staticClass:"shuli_l"},[a("v-uni-view",{staticClass:"xxbts"},[t._v("小计")]),a("v-uni-view",{staticClass:"xxbts_r_r"},[t._v("¥"+t._s(t.hjjg))])],1),t.discounts>0?a("v-uni-view",{staticClass:"flex-row flex-between price_all commonbgfff"},[a("v-uni-view",[t._v("会员折扣")]),a("v-uni-view",{staticStyle:{color:"#999"}},[t._v(t._s(t.discounts)+"折")])],1):t._e(),t.moneyoffstr?a("v-uni-view",{staticClass:"flex-row flex-between price_all commonbgfff"},[a("v-uni-view",[t._v("满减优惠")]),a("v-uni-view",{staticStyle:{color:"#999"}},[t._v(t._s(t.moneyoffstr))])],1):t._e(),a("v-uni-view",{staticClass:"shuli_l_l",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showModal.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"xxbts"},[t._v("优惠券")]),a("v-uni-view",{staticClass:"xxbts_r_r",staticStyle:{color:"#999"}},[t._v(t._s("请选择"==t.jqdjg?t.jqdjg+" >":"减"+t.jqdjg))])],1),1==t.datas.is_score?a("v-uni-view",{staticClass:"flex-row flex-between price_all commonbgfff"},[a("v-uni-view",[t._v("积分抵扣")]),a("v-uni-view",{staticStyle:{flex:"1"}}),1==t.jifen_u?a("v-uni-view",{staticStyle:{color:"#999","margin-right":"30rpx"}},[t._v(t._s(t.dkscore)+"积分抵"+t._s(t.dkmoney)+"元")]):t._e(),0==t.jifen_u?a("v-uni-view",{staticStyle:{color:"#999","margin-right":"30rpx"}},[t._v("当前积分"+t._s(null==t.myscore?0:t.myscore))]):t._e(),a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switchChange.apply(void 0,arguments)}}},[0==t.ischecked?a("v-uni-view",[a("v-uni-image",{staticClass:"switch_img",attrs:{src:t.$imgurl+"switch_false.png",mode:""}})],1):a("v-uni-view",[a("v-uni-image",{staticClass:"switch_img",attrs:{src:t.$imgurl+"switch_true.png",mode:""}})],1)],1)],1):t._e(),a("v-uni-view",{staticClass:"flex-row flex-between price_all commonbgfff"},[a("v-uni-view",[t._v("我的余额")]),a("v-uni-view",{staticStyle:{color:"#999"}},[t._v(t._s(null==t.mymoney?0:t.mymoney)+"（元）")])],1),0!=t.datas.pro_flag?a("v-uni-view",{staticClass:"shuli_l_l",staticStyle:{"margin-top":"10px"}},[a("v-uni-view",{staticClass:"xxbts kkd"},[t._v("姓名"),2==t.datas.pro_flag?a("v-uni-text",[t._v("*")]):t._e()],1),a("v-uni-view",{staticClass:"xxbts_r_k"},[a("v-uni-input",{staticClass:"surkzt_k",attrs:{type:"text",placeholder:"请填写姓名"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.userNameInput.apply(void 0,arguments)}}})],1)],1):t._e(),0!=t.datas.pro_flag_tel?a("v-uni-view",{staticClass:"shuli_l_l"},[a("v-uni-view",{staticClass:"xxbts kkd"},[t._v("手机号"),2==t.datas.pro_flag_tel?a("v-uni-text",[t._v("*")]):t._e()],1),a("v-uni-view",{staticClass:"xxbts_r_k"},[a("v-uni-input",{staticClass:"surkzt_k",attrs:{type:"number",placeholder:"请填写手机号",value:t.pro_tel},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.userTelInput.apply(void 0,arguments)}}})],1)],1):t._e(),0!=t.datas.pro_flag_add?a("v-uni-view",{staticClass:"shuli_l_l"},[a("v-uni-view",{staticClass:"xxbts kkd"},[t._v("地址"),2==t.datas.pro_flag_add?a("v-uni-text",[t._v("*")]):t._e()],1),a("v-uni-view",{staticClass:"xxbts_r_k",staticStyle:{width:"75%"}},[a("v-uni-input",{staticClass:"surkzt_k",attrs:{type:"text",placeholder:"请填写您的地址",value:t.pro_address},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.userAddInput.apply(void 0,arguments)}}})],1)],1):t._e(),0==t.datas.pro_flag_data&&0==t.datas.pro_flag_time||0!=t.datas.tableis?t._e():a("v-uni-view",{staticClass:"shuli_l_l"},[a("v-uni-view",{staticClass:"xxbts kkd"},[t._v(t._s(t.datas.pro_flag_data_name?t.datas.pro_flag_data_name:"上门时间")),2==t.datas.pro_flag_data?a("v-uni-text",[t._v("*")]):t._e()],1),0!=t.datas.pro_flag_data?a("v-uni-view",{staticClass:"xxbts_r_k"},[a("v-uni-picker",{attrs:{mode:"date",start:t.datas.start_date?t.datas.start_date:"",value:t.chuydate},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindDateChange2.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"picker_1",staticStyle:{"margin-left":"0"}},[t._v(t._s(t.chuydate))])],1)],1):t._e(),0!=t.datas.pro_flag_time?a("v-uni-view",{staticClass:"xxbts_r_k"},[a("v-uni-picker",{attrs:{mode:"time",value:t.chuytime},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindTimeChange2.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"picker_1",style:"margin-left:"+t.datas.pro_flag_data!=0?"30rpx":"0"},[t._v(t._s(t.chuytime))])],1)],1):t._e()],1),t.datas.seller_remind?a("v-uni-view",{staticClass:"shuli_l_l"},[a("v-uni-view",{staticClass:"xxbts kkd"},[t._v("卖家提醒")]),a("v-uni-view",{staticClass:"xxbts_r_k",staticStyle:{"padding-top":"6rpx"}},[t._v(t._s(t.datas.seller_remind))])],1):t._e(),0!=t.datas.pro_flag?a("v-uni-view",{staticClass:"shuli_l"},[a("v-uni-view",{staticStyle:{background:"#ffffff",padding:"30rpx 20rpx","box-sizing":"border-box"}},[a("v-uni-view",{staticStyle:{color:"#000"}},[t._v("买家留言:")]),a("v-uni-input",{staticStyle:{border:"0",padding:"0",width:"100%",height:"auto","font-size":"14px"},attrs:{type:"text",placeholder:"选填：建议填写和卖家商量好的内容~"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.userTextInput.apply(void 0,arguments)}}})],1)],1):t._e(),t.datas.formset&&t.datas.formset>0?a("v-uni-view",{staticClass:"content_box"},[a("v-uni-view",{staticClass:"title1 tc pt20",style:{color:t.baseinfo.base_color2}},[t._v("请填写下方信息提交")]),a("v-uni-view",{staticClass:"title1_sub tc"}),a("v-uni-view",{staticClass:"sdld"},[a("v-uni-form",{staticClass:"form_box form_box1"},[t._l(t.pagedata,function(e,i){return[0==e.type&&"0"==e.tp_text?[a("v-uni-view",{staticClass:"section inp_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),a("v-uni-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请填写"+e.name,"data-index":i},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindInputChange.apply(void 0,arguments)}}})],1)]:t._e(),0==e.type&&"0"==e.tp_text[0]["yval"]?[a("v-uni-view",{staticClass:"section inp_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),a("v-uni-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请填写"+e.name,"data-index":i},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindInputChange.apply(void 0,arguments)}}})],1)]:t._e(),0==e.type&&"1"==e.tp_text[0]["yval"]?[a("v-uni-view",{staticClass:"section inp_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),a("v-uni-input",{staticStyle:{width:"100%"},attrs:{type:"number",placeholder:"请填写"+e.name,"data-index":i},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindInputChange.apply(void 0,arguments)}}})],1)]:t._e(),0==e.type&&"2"==e.tp_text[0]["yval"]?[a("v-uni-view",{staticClass:"section inp_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),[a("v-uni-input",{staticClass:"cdksl",attrs:{value:t.myname,placeholder:"请填写"+e.name,"data-index":i},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindInputChange.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"inputBtn inputBtn2",attrs:{"data-index":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.weixinadd.apply(void 0,arguments)}}},[t._v("一键填写")])]],2)]:t._e(),0==e.type&&"3"==e.tp_text[0]["yval"]?[a("v-uni-view",{staticClass:"section inp_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),[a("v-uni-input",{staticClass:"cdksl",attrs:{type:"number",value:t.mymobile,placeholder:"请填写"+e.name,"data-index":i},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindInputChange.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"inputBtn inputBtn2",attrs:{"data-index":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.weixinadd.apply(void 0,arguments)}}},[t._v("一键填写")])]],2)]:t._e(),0==e.type&&"4"==e.tp_text[0]["yval"]?[a("v-uni-view",{staticClass:"section inp_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),[a("v-uni-input",{staticClass:"cdksl",attrs:{value:t.myaddress,placeholder:"请填写"+e.name,"data-index":i},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindInputChange.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"inputBtn inputBtn2",attrs:{"data-index":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.weixinadd.apply(void 0,arguments)}}},[t._v("一键填写")])]],2)]:t._e(),0==e.type&&"5"==e.tp_text[0]["yval"]?[a("v-uni-view",{staticClass:"section inp_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),[a("v-uni-input",{staticClass:"cdksl",attrs:{disabled:"true",value:t.wxmobile,placeholder:"请一键获取手机号","data-index":i}}),a("v-uni-button",{staticClass:"inputBtn inputBtn2",staticStyle:{"border-radius":"0rpx!important",margin:"10rpx 0 0 0","font-size":"24rpx",border:"0rpx!important"},attrs:{"open-type":"getPhoneNumber","data-index":i},on:{getphonenumber:function(e){arguments[0]=e=t.$handleEvent(e),t.getPhoneNumber.apply(void 0,arguments)}}},[t._v("一键填写")])]],2)]:t._e(),0==e.type&&"7"==e.tp_text[0]["yval"]?[a("v-uni-view",{staticClass:"section inp_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),a("v-uni-input",{staticStyle:{width:"100%"},attrs:{type:"number",placeholder:"请填写"+e.name,"data-index":i},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindInputChange.apply(void 0,arguments)}}})],1)]:t._e(),1==e.type?[a("v-uni-view",{staticClass:"section inp_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),[a("v-uni-textarea",{attrs:{"data-index":i},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindInputChange.apply(void 0,arguments)}}})]],2)]:t._e(),2==e.type?[a("v-uni-view",{staticClass:"section inp_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),a("v-uni-picker",{attrs:{range:e.tp_text,"data-index":i},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindPickerChange.apply(void 0,arguments)}}},[""==t.pagedata[i].val?a("v-uni-view",{staticClass:"picker"},[t._v("请选择"+t._s(e.name))]):a("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.pagedata[i].val))])],1)],1)]:t._e(),3==e.type?[a("v-uni-view",{staticClass:"section radio_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),a("v-uni-checkbox-group",{staticClass:"radio-group",attrs:{"data-index":i},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.checkboxChange.apply(void 0,arguments)}}},t._l(e.tp_text,function(e,i){return a("v-uni-label",{key:i,staticStyle:{width:"50%"}},[a("v-uni-checkbox",{attrs:{color:t.baseinfo.base_color2,value:e.yval}}),t._v(t._s(e["yval"]))],1)}),1)],1)]:t._e(),4==e.type?[a("v-uni-view",{staticClass:"section radio_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),a("v-uni-radio-group",{staticClass:"radio-group",attrs:{"data-index":i},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.radioChange.apply(void 0,arguments)}}},t._l(e.tp_text,function(e,i){return a("v-uni-label",{key:i,staticClass:"radio",staticStyle:{width:"50%"}},[a("v-uni-radio",{attrs:{color:t.baseinfo.base_color2,value:e.yval}}),t._v(t._s(e["yval"]))],1)}),1)],1)]:t._e(),5==e.type?[a("v-uni-view",{staticClass:"section inp_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1)],1),a("v-uni-view",{staticClass:"tuppars"},[t._l(t.pagedata[i].z_val,function(e,n){return[a("v-uni-view",{key:n+"_0",staticClass:"tupview",attrs:{"data-index":i,"data-id":n},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.delimg.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"iconfont icon-cancel iconfont_weiz"}),a("v-uni-image",{attrs:{src:e,mode:"scaleToFill"}})],1)]}),!t.pagedata[i].z_val||t.pagedata[i].tp_text>t.pagedata[i].z_val.length?a("v-uni-view",{staticClass:"tupview tupview_bg",attrs:{"data-index":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choiceimg.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"yikds",attrs:{src:t.$host+"/diypage/resource/images/diypage/default/addsicon.png"}})],1):t._e()],2)]:t._e(),7==e.type?[a("v-uni-view",{staticClass:"section inp_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),a("v-uni-picker",{attrs:{mode:"date","data-index":i},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindDateChange.apply(void 0,arguments)}}},[""==t.pagedata[i].val?a("v-uni-view",{staticClass:"picker"},[t._v("请选择"+t._s(e.name))]):a("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.pagedata[i].val))])],1)],1)]:t._e(),11==e.type?[a("v-uni-view",{staticClass:"section inp_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),a("v-uni-picker",{attrs:{mode:"time","data-index":i},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindTimeChange.apply(void 0,arguments)}}},[""==t.pagedata[i].val?a("v-uni-view",{staticClass:"picker"},[t._v("请选择"+t._s(e.name))]):a("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.pagedata[i].val))])],1)],1)]:t._e(),14==e.type?[a("v-uni-view",{staticClass:"section inp_box"},[a("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),a("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),a("v-uni-view",[a("v-uni-input",{staticClass:"cdksl",attrs:{disabled:"false",value:e.val,placeholder:"请选择"+e.name,"data-index":i}}),a("v-uni-view",{staticClass:"inputBtn",attrs:{"data-index":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.namexz.apply(void 0,arguments)}}},[t._v("请选择")])],1)],1)]:t._e()]}),t.formdescs?[t._v("说明："+t._s(t.formdescs))]:t._e()],2)],1)],1):t._e(),1==t.ttcxs?[a("v-uni-view",{staticClass:"tcc_bb"},[a("v-uni-view",{staticClass:"tcc_bb_t"},t._l(t.arrs,function(e,i){return a("v-uni-view",{key:i,class:["xlld",i==t.xuanz?"act":""],attrs:{"data-index":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.xuanzd.apply(void 0,arguments)}}},[t._v(t._s(e))])}),1),a("v-uni-view",{staticClass:"sddds"},[t._l(t.xx,function(e,i){return[1==e.val?a("v-uni-view",{key:i+"_0",class:["nldks",i==t.lixuanz?"act":""],attrs:{"data-index":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goux.apply(void 0,arguments)}}},[t._v(t._s(e.keys))]):t._e(),2==e.val?a("v-uni-view",{key:i+"_1",staticClass:"nldks act_yx",attrs:{"data-index":i}},[t._v(t._s(e.keys))]):t._e()]})],2),1==t.isover?a("v-uni-view",{staticClass:"pageNoticeT notice_red"},[t._v("对不起，今日已被选完，请查看其他日期")]):t._e(),a("v-uni-view",{staticClass:"dibti_qx",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.quxiao.apply(void 0,arguments)}}},[t._v("返回")]),a("v-uni-view",{staticClass:"dibti",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.save.apply(void 0,arguments)}}},[t._v("确定选择")])],1)]:t._e(),a("v-uni-view",{staticClass:"foot"},[a("v-uni-view",{staticClass:"sfje"},[t._v("需付："),a("v-uni-text",{staticStyle:{color:"#ef3250"}},[t._v("￥"+t._s(t.zf_money))])],1),a("v-uni-view",[0==t.zf_type?a("v-uni-view",[a("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[a("v-uni-button",{staticClass:"submit",attrs:{formType:"submit"}},[t._v("余额支付")])],1)],1):t._e(),1==t.zf_type?a("v-uni-view",[a("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[a("v-uni-button",{staticClass:"submit",attrs:{formType:"submit"}},[t._v("确认支付")])],1)],1):t._e()],1)],1),0==t.datas.pro_kc?a("v-uni-view",[a("v-uni-button",{staticClass:"bbbt1"},[t._v("您来晚了，商品已经售完")])],1):t._e(),t.xg_buy<=0?a("v-uni-view",[a("v-uni-button",{staticClass:"bbbt1"},[t._v("您已经购买了最大限购数量")])],1):t._e(),a("v-uni-view"),t.showModalStatus?a("v-uni-view",{staticClass:"commodity_screen",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}}):t._e(),t.showModalStatus?a("v-uni-view",{staticClass:"commodity_attr_box"},[a("v-uni-view",{staticClass:"noyhq",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.qxyh.apply(void 0,arguments)}}},[t._v("不使用优惠券"),a("v-uni-view",{staticClass:"bsyyyd"},[a("v-uni-icon",{attrs:{type:"cancel",size:"20",color:"red"}}),t._v("关闭")],1)],1),a("v-uni-view",{staticClass:"rongqi"},t._l(t.couponlist,function(e,i){return a("v-uni-view",{key:i,staticClass:"xuanzyh",attrs:{"data-cid":i,"data-index":e,"data-price":e.price},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getmoney.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"libju"},[a("v-uni-view",{staticClass:"limdd"},[t._v(t._s(e.title))]),a("v-uni-view",{staticClass:"limmd_s"},[t._v("满"+t._s(e.pay_money)+"元可用")])],1),a("v-uni-view",{staticClass:"jutqs"},[t._v(t._s(e.price)+"元")]),a("v-uni-view",{staticClass:"libj2"},[e.id==t.yhqid?a("v-uni-icon",{attrs:{type:"success",size:"20",color:"#ff9900"}}):t._e()],1)],1)}),1)],1):t._e(),1==t.show_pay_type?a("v-uni-view",{staticClass:"zhezhao",staticStyle:{display:"block"}},[a("v-uni-view",{staticClass:"t_w"},[a("v-uni-view",{staticClass:"tanchu_view"},[a("v-uni-image",{staticClass:"close",attrs:{src:t.$imgurl+"close.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close_pay_type.apply(void 0,arguments)}}}),a("v-uni-text",[t._v("支付方式")]),1==t.wxpay?a("v-uni-view",{staticStyle:{"border-bottom":"1px solid #e9e6e6"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changewxpay.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"view_left"},[a("v-uni-image",{attrs:{src:t.$imgurl+"wx.png",mode:""}}),a("v-uni-text",[t._v("微信支付")])],1),1==t.pay_type?a("v-uni-view",{staticClass:"view_right"},[a("v-uni-image",{attrs:{src:t.$imgurl+"chk2.png"}})],1):t._e(),2==t.pay_type?a("v-uni-view",{staticClass:"view_right"},[a("v-uni-image",{attrs:{src:t.$imgurl+"chk1.png",id:"chk"}})],1):t._e()],1):t._e(),1==t.alipay?a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changealipay.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"view_left"},[a("v-uni-image",{attrs:{src:t.$imgurl+"zfb.png",mode:""}}),a("v-uni-text",[t._v("支付宝支付")])],1),1==t.pay_type?a("v-uni-view",{staticClass:"view_right"},[a("v-uni-image",{attrs:{src:t.$imgurl+"chk1.png",id:"chk"}})],1):t._e(),2==t.pay_type?a("v-uni-view",{staticClass:"view_right"},[a("v-uni-image",{attrs:{src:t.$imgurl+"chk2.png"}})],1):t._e()],1):t._e(),a("v-uni-button",{staticClass:"btn_submit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.h5topay.apply(void 0,arguments)}}},[t._v("确认支付￥"),a("v-uni-text",[t._v(t._s(t.zf_money))])],1)],1)],1)],1):t._e()],2):t._e()},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},f030:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'uni-page-body[data-v-32da69e4]{padding-bottom:%?120?%}.qxiq[data-v-32da69e4]{background-color:#fff;padding:%?15?%}.thumbdx[data-v-32da69e4]{width:%?120?%;height:%?120?%;display:inline-block;overflow:hidden}.thumbdx uni-image[data-v-32da69e4]{width:100%;height:100%}.jbxx[data-v-32da69e4]{display:inline-block;width:70%;overflow:hidden;vertical-align:top;margin-left:10px;white-space:nowrap;text-overflow:ellipsis;position:relative;height:60px}.xxdz[data-v-32da69e4]{font-size:14px;color:#f90}.ddzd[data-v-32da69e4]{font-size:20px;color:#f90;margin-left:5px}.bbts[data-v-32da69e4]{font-size:14px;color:#333;height:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.bbbt1[data-v-32da69e4]{background-color:#999;color:#fff;width:80%;margin-top:%?20?%;margin-bottom:%?20?%;font-size:%?28?%}.zzdc[data-v-32da69e4]{position:absolute;bottom:0}.ppimg[data-v-32da69e4]{width:15px;height:15px;margin-right:5px}.zzddx[data-v-32da69e4]{font-size:%?24?%;color:#68bf00}.shuli[data-v-32da69e4]{border-bottom:1px solid #eee;padding:%?15?%;background-color:#fff;overflow:hidden}.shuli_l[data-v-32da69e4]{padding:%?15?%;background-color:#fff;margin-bottom:%?20?%}.shuli_l_l[data-v-32da69e4]{padding:%?20?%;border-bottom:1px solid #eee;background-color:#fff;overflow:hidden}.xxbts[data-v-32da69e4]{float:left;font-size:14px;width:50%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.xxbts uni-text[data-v-32da69e4]{color:red;margin-left:%?4?%}.xxbts_r[data-v-32da69e4]{float:right;text-align:center}.ssld[data-v-32da69e4]{width:30px;height:29px;float:right;padding:0;margin-top:0;border:none;border-top:1px solid #dedede;border-bottom:1px solid #dedede}.jjh[data-v-32da69e4]{float:right;height:29px;width:29px;line-height:29px;text-align:center;border:1px solid #dedede}.bbbt[data-v-32da69e4]{background-color:#f90;color:#fff;width:90%;margin:%?40?% auto}.surkzt[data-v-32da69e4]{text-align:right;height:%?42?%;line-height:%?42?%;margin-top:0;padding:0;border:none;color:#999;float:right;min-height:%?42?%}.bzxx[data-v-32da69e4]{text-align:left;width:100%;font-size:%?26?%;height:%?100?%}.dingdxx[data-v-32da69e4]{background-color:#fff;line-height:40px;border-top:1px solid #dedede;border-bottom:1px solid #dedede;padding-left:%?20?%;color:#333;font-weight:700}.jiagemeig[data-v-32da69e4]{float:left;padding-left:%?20?%;color:#fe3030;font-size:14px;margin-top:4px}.xxbts_r_k .picker[data-v-32da69e4]{border:1px solid #dedede;height:%?30?%;line-height:%?30?%;text-align:left;margin-top:0;width:%?220?%}.picker_1[data-v-32da69e4]{border:1px solid #dedede;height:%?30?%;line-height:%?30?%;text-align:left;margin-top:0;width:%?200?%;margin-left:%?30?%;padding:%?10?%}.kkd[data-v-32da69e4]{width:25%;overflow-x:hidden;padding-top:%?8?%}.xxbts_r_k[data-v-32da69e4]{float:left;font-size:%?28?%;color:#f90}.surkzt_k[data-v-32da69e4]{text-align:left;height:%?42?%;line-height:%?42?%;margin-top:0;padding:0;border:none;color:#999}.xxbts_r_r[data-v-32da69e4]{text-align:right;color:#fe3030}.commodity_screen[data-v-32da69e4]{width:100%;height:100%;position:fixed;top:0;left:0;background:#000;opacity:.2;overflow:hidden;z-index:9999;color:#fff}.commodity_attr_box[data-v-32da69e4]{width:100%;overflow:hidden;position:fixed;bottom:0;left:0;z-index:10000;background:#fff;padding-top:%?20?%;padding-bottom:%?20?%;background-color:#eee}.noyhq[data-v-32da69e4]{background-color:#fff;padding:12px 10px;border-bottom:1px solid #dedede}.bsyyyd[data-v-32da69e4]{float:right;width:10%;text-align:center}.rongqi[data-v-32da69e4]{max-height:380px;overflow-y:auto}.xuanzyh[data-v-32da69e4]{padding:15px 0;margin-right:5%;margin-left:5%;margin-top:15px;background-color:#fff;border-left:3px solid #f90;height:50px}.libju[data-v-32da69e4]{float:left;width:40%;padding-left:10%}.limdd[data-v-32da69e4]{font-size:%?30?%;color:#000}.limmd_s[data-v-32da69e4]{font-size:%?24?%}.jutqs[data-v-32da69e4]{float:left;width:30%;text-align:right;line-height:50px;font-size:%?40?%;color:#f90}.libj2[data-v-32da69e4]{float:right;text-align:center;overflow:hidden;width:10%;margin-top:15px}.tuppars[data-v-32da69e4]{width:100%;vertical-align:top}.tupview[data-v-32da69e4]{border:1px solid #dedede;width:%?130?%;height:%?130?%;display:inline-block;margin:2%;position:relative;padding:%?4?%}.tupview uni-image[data-v-32da69e4]{width:100%;height:100%;display:block}.iconfont_weiz[data-v-32da69e4]{color:red;position:absolute;right:%?4?%;top:%?-2?%}.yikds[data-v-32da69e4]{width:%?80?%!important;height:%?80?%!important;position:absolute;left:%?28?%;top:%?28?%}.llld[data-v-32da69e4]{width:100%;height:100%;top:0;position:fixed;z-index:2000;background-color:#000;opacity:.4}.cdksl[data-v-32da69e4]{width:80%;display:inline-block;vertical-align:top}.tcc_bb[data-v-32da69e4]{width:100%;height:100%;position:fixed;left:0;top:0;background-color:#eee;z-index:10000}.ssd[data-v-32da69e4]{width:100%;background-color:#fff}.tcc_bb_t[data-v-32da69e4]{padding:%?20?%}.xlld[data-v-32da69e4]{display:inline-block;background-color:#fff;text-align:center;line-height:%?80?%;font-size:%?24?%;width:20%}.dibti[data-v-32da69e4]{width:50%;background-color:#4eca33;color:#fff;height:%?80?%;line-height:%?80?%;font-size:%?30?%;position:fixed;bottom:0;z-index:10000;text-align:center;right:0}.dibti_qx[data-v-32da69e4]{width:50%;background-color:#ccc;color:#fff;height:%?80?%;line-height:%?80?%;font-size:%?30?%;position:fixed;bottom:0;z-index:10000;text-align:center;left:0}.sddds[data-v-32da69e4]{padding:%?10?% %?20?%}.nldks[data-v-32da69e4]{float:left;padding:%?8?% %?40?%;text-align:center;background-color:#fff;margin:0 %?20?% %?20?% 0}.act[data-v-32da69e4]{background-color:#ff4a49;color:#fff}.act_yx[data-v-32da69e4]{background-color:#dedede;color:#fff}.flex-row[data-v-32da69e4]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.flex-between[data-v-32da69e4]{-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.price_all[data-v-32da69e4]{padding:0 %?20?%;height:%?90?%;line-height:%?90?%;border-bottom:%?2?% solid #efefef}.commonbgfff[data-v-32da69e4]{background:#fff}.foot[data-v-32da69e4]{position:fixed;left:0;bottom:0;right:0;background:#fff;width:100%;border-top:%?2?% solid #eee;font-size:0;text-align:right;z-index:9999;height:%?100?%}.sfje[data-v-32da69e4]{vertical-align:top}.foot>uni-view[data-v-32da69e4]{display:inline-block;font-size:%?32?%;line-height:%?100?%}\n\n.submit[data-v-32da69e4]{height:%?100?%;line-height:%?100?%;width:%?200?%;color:#fff;background:#f55;text-align:center;margin-left:%?20?%;font-size:%?34?%;border-radius:0;border:none}.submit1[data-v-32da69e4]{height:%?100?%;line-height:%?100?%;vertical-align:middle;width:%?236?%;color:#fff;background:#f55;text-align:center;margin-left:%?20?%;border-radius:0}.submit1[data-v-32da69e4]:after,.submit[data-v-32da69e4]:after{border-radius:0}.zhezhao[data-v-32da69e4]{position:fixed;width:%?750?%;height:100%;top:0;background:rgba(0,0,0,.3);overflow:hidden;z-index:99}.t_w[data-v-32da69e4]{position:relative;z-index:100;overflow:visible;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.tanchu_view[data-v-32da69e4]{width:80%;margin:auto;overflow:hidden;background-color:#fff;border-radius:%?10?%;padding-top:%?20?%;box-sizing:border-box;text-align:center;position:relative}#chk[data-v-32da69e4]{width:%?70?%;height:%?70?%;margin-right:%?-6?%}.tanchu_view>uni-text[data-v-32da69e4]{font-size:%?44?%;font-weight:500;color:#333;height:%?100?%;line-height:%?100?%}.tanchu_view>uni-view[data-v-32da69e4]{height:%?100?%;line-height:%?100?%;overflow:visible;margin:%?20?% %?40?%}.view_left[data-v-32da69e4]{float:left}.view_right[data-v-32da69e4]{float:right}.view_right>uni-image[data-v-32da69e4]{width:%?60?%;height:%?60?%;vertical-align:middle}.tanchu_view>uni-view[data-v-32da69e4]:after{clear:both;content:"";display:block}.view_left>uni-image[data-v-32da69e4]{width:%?50?%;height:%?50?%;display:inline-block;vertical-align:middle;margin-right:%?30?%}.view_left>uni-text[data-v-32da69e4]{font-size:%?36?%;color:#333;font-weight:500}.btn_submit[data-v-32da69e4]{width:100%;height:%?110?%;line-height:%?110?%;background-color:#2f74fd;color:#fff;border:none;border-radius:%?10?%;font-size:%?38?%;margin:%?60?% auto 0;border-radius:0}uni-button[data-v-32da69e4]:after{border:none}.btn_submit>uni-text[data-v-32da69e4]{font-size:%?50?%}.close[data-v-32da69e4]{width:%?40?%;height:%?40?%;position:absolute;top:%?50?%;right:%?30?%}uni-view[data-v-32da69e4]{overflow:hidden}.bsyyyd>uni-icon[data-v-32da69e4]{margin-left:14px}\n\n.switch_img[data-v-32da69e4]{width:46px;height:46px;background-size:100% 100%}\n\n/*自取门店选择*/.contact_shop[data-v-32da69e4]{background:#fff;line-height:%?80?%;margin-bottom:%?20?%}.contact_shop>uni-view[data-v-32da69e4]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?20?%;border-bottom:%?2?% solid #eee}.contact_shop>uni-view>uni-view[data-v-32da69e4]:first-child{width:%?200?%}.get_message[data-v-32da69e4],.radio_choose[data-v-32da69e4]{display:-webkit-box;display:-webkit-flex;display:flex}.get_message[data-v-32da69e4]{line-height:%?60?%}.choose_title[data-v-32da69e4]{background:#fff;padding-left:%?20?%;border-bottom:%?2?% solid #efefef;height:%?60?%;line-height:%?60?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}\n\n',""])}}]);