(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesReserve-proBuy-proBuy"],{"2bb6":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'uni-page-body[data-v-2f4858c3]{padding-bottom:%?120?%}.qxiq[data-v-2f4858c3]{background-color:#fff;padding:%?15?%}.thumbdx[data-v-2f4858c3]{width:%?120?%;height:%?120?%;display:inline-block;overflow:hidden}.thumbdx uni-image[data-v-2f4858c3]{width:100%;height:100%}.jbxx[data-v-2f4858c3]{display:inline-block;width:70%;overflow:hidden;vertical-align:top;margin-left:10px;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis;position:relative;height:60px}.xxdz[data-v-2f4858c3]{font-size:14px;color:#f90}.ddzd[data-v-2f4858c3]{font-size:20px;color:#f90;margin-left:5px}.bbts[data-v-2f4858c3]{font-size:14px;color:#333;height:20px;overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis}.bbbt1[data-v-2f4858c3]{background-color:#999;color:#fff;width:80%;margin-top:%?20?%;margin-bottom:%?20?%;font-size:%?28?%}.zzdc[data-v-2f4858c3]{position:absolute;bottom:0}.ppimg[data-v-2f4858c3]{width:15px;height:15px;margin-right:5px}.zzddx[data-v-2f4858c3]{font-size:%?24?%;color:#68bf00}.shuli[data-v-2f4858c3]{border-bottom:1px solid #eee;padding:%?15?%;background-color:#fff;overflow:hidden}.shuli_l[data-v-2f4858c3]{padding:%?15?%;background-color:#fff;margin-bottom:%?20?%}.shuli_l_l[data-v-2f4858c3]{padding:%?20?%;border-bottom:1px solid #eee;background-color:#fff;overflow:hidden}.xxbts[data-v-2f4858c3]{float:left;font-size:14px;width:50%;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.xxbts uni-text[data-v-2f4858c3]{color:red;margin-left:%?4?%}.xxbts_r[data-v-2f4858c3]{float:right;text-align:center}.ssld[data-v-2f4858c3]{width:30px;height:29px;float:right;padding:0;margin-top:0;border:none;border-top:1px solid #dedede;border-bottom:1px solid #dedede}.jjh[data-v-2f4858c3]{float:right;height:29px;width:29px;line-height:29px;text-align:center;border:1px solid #dedede}.bbbt[data-v-2f4858c3]{background-color:#f90;color:#fff;width:90%;margin:%?40?% auto}.surkzt[data-v-2f4858c3]{text-align:right;height:%?42?%;line-height:%?42?%;margin-top:0;padding:0;border:none;color:#999;float:right;min-height:%?42?%}.bzxx[data-v-2f4858c3]{text-align:left;width:100%;font-size:%?26?%;height:%?100?%}.dingdxx[data-v-2f4858c3]{background-color:#fff;line-height:40px;border-top:1px solid #dedede;border-bottom:1px solid #dedede;padding-left:%?20?%;color:#333;font-weight:700}.jiagemeig[data-v-2f4858c3]{float:left;padding-left:%?20?%;color:#fe3030;font-size:14px;margin-top:4px}.xxbts_r_k .picker[data-v-2f4858c3]{border:1px solid #dedede;height:%?30?%;line-height:%?30?%;text-align:left;margin-top:0;width:%?220?%}.picker_1[data-v-2f4858c3]{border:1px solid #dedede;height:%?30?%;line-height:%?30?%;text-align:left;margin-top:0;width:%?200?%;margin-left:%?30?%;padding:%?10?%}.kkd[data-v-2f4858c3]{width:25%;overflow-x:hidden;padding-top:%?8?%}.xxbts_r_k[data-v-2f4858c3]{float:left;font-size:%?28?%;color:#f90}.surkzt_k[data-v-2f4858c3]{text-align:left;height:%?42?%;line-height:%?42?%;margin-top:0;padding:0;border:none;color:#999}.xxbts_r_r[data-v-2f4858c3]{text-align:right;color:#fe3030}.commodity_screen[data-v-2f4858c3]{width:100%;height:100%;position:fixed;top:0;left:0;background:#000;opacity:.2;overflow:hidden;z-index:9999;color:#fff}.commodity_attr_box[data-v-2f4858c3]{width:100%;overflow:hidden;position:fixed;bottom:0;left:0;z-index:10000;background:#fff;padding-top:%?20?%;padding-bottom:%?20?%;background-color:#eee}.noyhq[data-v-2f4858c3]{background-color:#fff;padding:12px 10px;border-bottom:1px solid #dedede}.bsyyyd[data-v-2f4858c3]{float:right;width:10%;text-align:center}.rongqi[data-v-2f4858c3]{max-height:380px;overflow-y:auto}.xuanzyh[data-v-2f4858c3]{padding:15px 0;margin-right:5%;margin-left:5%;margin-top:15px;background-color:#fff;border-left:3px solid #f90;height:50px}.libju[data-v-2f4858c3]{float:left;width:40%;padding-left:10%}.limdd[data-v-2f4858c3]{font-size:%?30?%;color:#000}.limmd_s[data-v-2f4858c3]{font-size:%?24?%}.jutqs[data-v-2f4858c3]{float:left;width:30%;text-align:right;line-height:50px;font-size:%?40?%;color:#f90}.libj2[data-v-2f4858c3]{float:right;text-align:center;overflow:hidden;width:10%;margin-top:15px}.tuppars[data-v-2f4858c3]{width:100%;vertical-align:top}.tupview[data-v-2f4858c3]{border:1px solid #dedede;width:%?130?%;height:%?130?%;display:inline-block;margin:2%;position:relative;padding:%?4?%}.tupview uni-image[data-v-2f4858c3]{width:100%;height:100%;display:block}.iconfont_weiz[data-v-2f4858c3]{color:red;position:absolute;right:%?4?%;top:%?-2?%}.yikds[data-v-2f4858c3]{width:%?80?%!important;height:%?80?%!important;position:absolute;left:%?28?%;top:%?28?%}.llld[data-v-2f4858c3]{width:100%;height:100%;top:0;position:fixed;z-index:2000;background-color:#000;opacity:.4}.cdksl[data-v-2f4858c3]{width:80%;display:inline-block;vertical-align:top}.tcc_bb[data-v-2f4858c3]{width:100%;height:100%;position:fixed;left:0;top:0;background-color:#eee;z-index:10000}.ssd[data-v-2f4858c3]{width:100%;background-color:#fff}.tcc_bb_t[data-v-2f4858c3]{padding:%?20?%}.xlld[data-v-2f4858c3]{display:inline-block;background-color:#fff;text-align:center;line-height:%?80?%;font-size:%?24?%;width:20%}.dibti[data-v-2f4858c3]{width:50%;background-color:#4eca33;color:#fff;height:%?80?%;line-height:%?80?%;font-size:%?30?%;position:fixed;bottom:0;z-index:10000;text-align:center;right:0}.dibti_qx[data-v-2f4858c3]{width:50%;background-color:#ccc;color:#fff;height:%?80?%;line-height:%?80?%;font-size:%?30?%;position:fixed;bottom:0;z-index:10000;text-align:center;left:0}.sddds[data-v-2f4858c3]{padding:%?10?% %?20?%}.nldks[data-v-2f4858c3]{float:left;padding:%?8?% %?40?%;text-align:center;background-color:#fff;margin:0 %?20?% %?20?% 0}.act[data-v-2f4858c3]{background-color:#ff4a49;color:#fff}.act_yx[data-v-2f4858c3]{background-color:#dedede;color:#fff}.flex-row[data-v-2f4858c3]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.flex-between[data-v-2f4858c3]{-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.price_all[data-v-2f4858c3]{padding:0 %?20?%;height:%?90?%;line-height:%?90?%;border-bottom:%?2?% solid #efefef}.commonbgfff[data-v-2f4858c3]{background:#fff}.foot[data-v-2f4858c3]{position:fixed;left:0;bottom:0;right:0;background:#fff;width:100%;border-top:%?2?% solid #eee;font-size:0;text-align:right;z-index:9999;height:%?100?%}.sfje[data-v-2f4858c3]{vertical-align:top}.foot>uni-view[data-v-2f4858c3]{display:inline-block;font-size:%?32?%;line-height:%?100?%}\n\n.submit[data-v-2f4858c3]{height:%?100?%;line-height:%?100?%;width:%?200?%;color:#fff;background:#f55;text-align:center;margin-left:%?20?%;font-size:%?34?%;border-radius:0;border:none}.submit1[data-v-2f4858c3]{height:%?100?%;line-height:%?100?%;vertical-align:middle;width:%?236?%;color:#fff;background:#f55;text-align:center;margin-left:%?20?%;border-radius:0}.submit1[data-v-2f4858c3]:after,.submit[data-v-2f4858c3]:after{border-radius:0}.zhezhao[data-v-2f4858c3]{position:fixed;width:%?750?%;height:100%;top:0;background:rgba(0,0,0,.3);overflow:hidden;z-index:99}.t_w[data-v-2f4858c3]{position:relative;z-index:100;overflow:visible;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.tanchu_view[data-v-2f4858c3]{width:80%;margin:auto;overflow:hidden;background-color:#fff;border-radius:%?10?%;padding-top:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;text-align:center;position:relative}#chk[data-v-2f4858c3]{width:%?70?%;height:%?70?%;margin-right:%?-6?%}.tanchu_view>uni-text[data-v-2f4858c3]{font-size:%?44?%;font-weight:500;color:#333;height:%?100?%;line-height:%?100?%}.tanchu_view>uni-view[data-v-2f4858c3]{height:%?100?%;line-height:%?100?%;overflow:visible;margin:%?20?% %?40?%}.view_left[data-v-2f4858c3]{float:left}.view_right[data-v-2f4858c3]{float:right}.view_right>uni-image[data-v-2f4858c3]{width:%?60?%;height:%?60?%;vertical-align:middle}.tanchu_view>uni-view[data-v-2f4858c3]:after{clear:both;content:"";display:block}.view_left>uni-image[data-v-2f4858c3]{width:%?50?%;height:%?50?%;display:inline-block;vertical-align:middle;margin-right:%?30?%}.view_left>uni-text[data-v-2f4858c3]{font-size:%?36?%;color:#333;font-weight:500}.btn_submit[data-v-2f4858c3]{width:100%;height:%?110?%;line-height:%?110?%;background-color:#2f74fd;color:#fff;border:none;border-radius:%?10?%;font-size:%?38?%;margin:%?60?% auto 0;border-radius:0}uni-button[data-v-2f4858c3]:after{border:none}.btn_submit>uni-text[data-v-2f4858c3]{font-size:%?50?%}.close[data-v-2f4858c3]{width:%?40?%;height:%?40?%;position:absolute;top:%?50?%;right:%?30?%}uni-view[data-v-2f4858c3]{overflow:hidden}.bsyyyd>uni-icon[data-v-2f4858c3]{margin-left:14px}\n\n.switch_img[data-v-2f4858c3]{width:46px;height:46px;background-size:100% 100%}\n\n/*自取门店选择*/.contact_shop[data-v-2f4858c3]{background:#fff;line-height:%?80?%;margin-bottom:%?20?%}.contact_shop>uni-view[data-v-2f4858c3]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 %?20?%;border-bottom:%?2?% solid #eee}.contact_shop>uni-view>uni-view[data-v-2f4858c3]:first-child{width:%?200?%}.get_message[data-v-2f4858c3],.radio_choose[data-v-2f4858c3]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.get_message[data-v-2f4858c3]{line-height:%?60?%}.choose_title[data-v-2f4858c3]{background:#fff;padding-left:%?20?%;border-bottom:%?2?% solid #efefef;height:%?60?%;line-height:%?60?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}\n\n',""])},"4e47":function(t,e,i){var a=i("2bb6");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("3de593cc",a,!0,{sourceMap:!1,shadowMode:!1})},"67f1":function(t,e,i){"use strict";i.r(e);var a=i("79bb"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},"79bb":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("e814"));i("ac6a");var s=a(i("f499"));i("7f7f");var o=a(i("bd86"));i("28a5");var d=a(i("59ad")),l=i("2c90"),c={data:function(){return{$imgurl:this.$imgurl,$host:this.$host,baseinfo:"",id:"",bg:"",couponlist:[],picList:[],datas:{},comment:"",jhsl:1,dprice:"",yhje:0,hjjg:0,sfje:0,order:"",pro_name:"",pro_tel:"",pro_address:"",pro_txt:"",my_num:"",xg_num:"",shengyu:"",userInfo:"",chuydate:"选择日期",chuytime:"选择时间",num:{},duogg:[],xz_num:[],couponprice:0,jqdjg:"请选择",yhqid:"0",oldsfje:"",pagedata:{},imgcount_xz:0,pagedata_set:[],zhixin:!1,xuanz:0,lixuanz:-1,ttcxs:0,chooseNum:0,myscore:0,jifen_u:2,zf_money:0,dkmoney:0,type:"",testKey:"",testKeys:"",order_id:"",pd_val:[],formId:"",sw:!1,showModalStatus:!1,zf_type:0,mymoney:0,show_pay_type:0,h5pay:0,dopay:"",pay_type:1,alipay:1,wxpay:1,needBind:!1,needAuth:!1,dkscore:0,xx:[],arrs:[],wxmobile:"",myname:"",mymobile:"",myaddress:"",discounts:0,ischecked:!1,storeall:"",storeid:"",is_submit:1}},onLoad:function(t){var e=this,i=t.id;e.id=i,void 0!=t.testPrice&&(e.testPrice=t.testPrice),void 0!=t.testKey&&(e.testKey=t.testKey),void 0!=t.testKeys&&(e.testKeys=t.testKeys),"table"==t.type&&(e.type=t.type,e.NowSelectStr=t.NowSelectStr,e.appoint_date=t.appoint_date);var a=0;t.fxsid&&(a=t.fxsid),this.fxsid=a,this._baseMin(this),l.h5login(a,function(){var t=e.id;e.getShowPic(t)})},methods:{closeAuth:function(){this.needAuth=!1,this._checkBindPhone(this)},closeBind:function(){this.needBind=!1,this.getShowPic(this.id)},getStore:function(t){this.storeid=t.currentTarget.dataset.id},getShowPic:function(t){var e=this;uni.request({url:e.$baseurl+"doPagemycoupon",data:{suid:uni.getStorageSync("suid"),flag:0,uniacid:e.$uniacid,id:e.id,type:"yuyue"},success:function(t){e.couponlist=t.data.data},fail:function(t){}}),uni.request({url:e.$baseurl+"doPageshowPro",data:{id:t,suid:uni.getStorageSync("suid"),uniacid:e.$uniacid},cachetime:"30",success:function(t){var i=t.data.data.userinfo.grade,a=t.data.data.stores;""!=a&&(e.storeall=a,e.storeid=a[0]["id"]);var n=t.data.data.discount_status;if(i>0&&n>0){var s=t.data.data.discount;if(2==n){if(s.length>0)for(var o=0;o<s.length;o++)if(i==s[o]["grade"]){var l=s[o]["discount"];break}}else l=s}else l=0;var c=t.data.data.userinfo.money,r=t.data.data.userinfo.score;t.data.data.price;if("table"!=e.type){var u=e.yhje;if(0==t.data.data.pro_xz)v=1;else var v=t.data.data.pro_xz-t.data.data.my_num;var f=t.data.data.more_type_x,h=[],p={},_=0;for(o=0;o<f.length;o++)p[o]=0,h.push(p),_+=0*f[o][1];e.bg=t.data.data.text[0],e.picList=t.data.data.text,e.title=t.data.data.title,e.datas=t.data.data,e.duogg=f,e.hjjg=_,e.zf_money=_,e.dprice=_,e.sfje=_-u,e.myscore=(0,d.default)(t.data.data.userinfo.score),e.mymoney=(0,d.default)(t.data.data.userinfo.money),e.xz_num=t.data.data.more_type_num,e.num=h,e.xg_num=t.data.data.pro_xz,e.shengyu=t.data.data.pro_kc,e.xg_buy=v,e.pagedata=t.data.data.forms,e.formdescs=t.data.data.formdescs,e.discounts=l;var g=e.testKey;""!=g&&e.jia();var m=e.testKeys;if(console.log(m),1==m&&f.length>0)for(o=0;o<f.length;o++)e.testPrice=f[o][1],e.testKey=o,e.jia()}else{u=e.yhje;var w,x,y=e.NowSelectStr.split(","),b=y.length;for(o=0;o<b;o++)w=y[o].split("a"),x=t.data.data.table.rowstr[w[0]-1]+"，",x+=t.data.data.table.columnstr[w[1]-1],y[o]=x;e.myscore=r,e.mymoney=c,e.select_arr=y,e.bg=t.data.data.text[0],e.title=t.data.data.title,e.datas=t.data.data,e.hjjg=t.data.data.price*b,e.zf_money=t.data.data.price*b,e.dprice=t.data.data.price,e.select_num=b,e.sfje=Math.floor(100*(t.data.data.price*b-u))/100,e.pagedata=t.data.data.forms,e.formdescs=t.data.data.formdescs,e.discounts=l}uni.setNavigationBarTitle({title:e.title}),uni.setStorageSync("isShowLoading",!1),uni.hideNavigationBarLoading(),uni.stopPullDownRefresh(),uni.request({url:e.$baseurl+"doPagegetmoneyoff",data:{uniacid:e.$uniacid},success:function(t){for(var i=t.data.data,a="",n=0;n<i.length;n++)n==i.length-1?a+="满"+i[n].reach+"减"+i[n].del:a+="满"+i[n].reach+"减"+i[n].del+"，";e.sfje;e.moneyoff=i,e.moneyoffstr=i?a:"",e.getmyinfo()}})}})},getmyinfo:function(){var t=this,e=t.moneyoff,i=t.hjjg,a=t.discounts;if(a>0&&i>0&&(i=i*a/10,i=i<.01?.01:i.toFixed(2)),e)for(var n=e.length-1;n>=0;n--)if(i>=(0,d.default)(e[n].reach)){i-=(0,d.default)(e[n].del);break}t.sfje=i,t.zf_type=(0,d.default)(t.mymoney)>=i?0:1,t.zf_money=(0,d.default)(t.mymoney)>=i?i:Math.round(100*(i-t.mymoney))/100},jian:function(t){var e=this,i=(e.yhje,t.currentTarget.dataset.testid),a=t.currentTarget.dataset.testkey,n=e.num[a][a],s=(e.duogg,e.sfje),o=e.oldsfje,d=e.hjjg;if(n--,n<0)n=0;else{var l=Math.round(100*o-100*i*n+100*i*(n-1))/100;s=l,d=l,o=l;var c=e.num;c[a][a]=n;var r=e.chooseNum-1;e.num=c,e.sfje=s,e.hjjg=d,e.jqdjg="请选择",e.oldsfje=o,e.yhqid=0,e.chooseNum=r,e.ischecked=!1,e.dkscore=0,e.dkmoney=0,e.jifen_u=2,e.getmyinfo()}},jia:function(t){var e=this;e.yhje;if(void 0==t){var i=e.testKey;if(""!==i)var a=e.testPrice}else a=t.currentTarget.dataset.testid,i=t.currentTarget.dataset.testkey;var n=e.num[i][i],s=(e.duogg,e.sfje,e.oldsfje),o=e.hjjg,d=e.xz_num,l=d[i].shennum;if(n++,n>l)return n--,uni.showModal({title:"提醒",content:"库存量不足！",showCancel:!1}),!1;var c=Math.round(100*a*n+100*s-100*a*(n-1))/100;s=c,o=c;var r=e.num;e.datas;r[i][i]=n;var u=e.chooseNum+1;e.num=r,e.hjjg=o,e.jqdjg="请选择",e.oldsfje=s,e.yhqid=0,e.chooseNum=u,e.ischecked=!1,e.dkscore=0,e.dkmoney=0,e.jifen_u=2,e.getmyinfo()},changealipay:function(){this.pay_type=1},changewxpay:function(){this.pay_type=2},close_pay_type:function(){this.show_pay_type=0,uni.navigateTo({url:"/pagesReserve/orderList/orderList"})},h5topay:function(){var t=this.pay_type;1==t?this.pay3(this.orderid):2==t&&this.pay5(this.orderid),this.show_pay_type=0},pay3:function(t){var e,i=this;console.log("支付宝H5支付"),uni.request({url:this.$baseurl+"doPageHfivepay",data:(e={uniacid:this.$uniacid,order_id:t,suid:uni.getStorageSync("suid"),types:9},(0,o.default)(e,"suid",uni.getStorageSync("suid")),(0,o.default)(e,"money",i.zf_money),e),success:function(e){1==e.data.flag&&uni.navigateTo({url:"/pages/aliH5pay/aliH5pay?id="+t+"&type=9"})}})},pay5:function(t){var e=this;console.log("微信H5支付"),uni.request({url:this.$baseurl+"doPageHfiveWxpay",data:{uniacid:this.$uniacid,order_id:t,types:"reserve",suid:uni.getStorageSync("suid"),money:e.zf_money},success:function(e){e.data&&(console.log(e.data),uni.setStorageSync(t,e.data.mweb_url),uni.navigateTo({url:"/pages/wxH5pay/wxH5pay?order_id="+t}))}})},userNameInput:function(t){this.pro_name=t.detail.value},userTelInput:function(t){this.pro_tel=t.detail.value},userAddInput:function(t){this.pro_address=t.detail.value},userTextInput:function(t){this.pro_txt=t.detail.value},submit:l.throttle(function(t){var e=this,i=this.is_submit;if(2==i)return!1;var a=e.jhsl,n=e.shengyu,o=e.type,d=t.detail.formId;if(e.formId=d,a>n&&-1!=n&&"table"!=o)return a--,uni.showModal({title:"提醒",content:"库存量不足！",showCancel:!1}),!1;var l=e.sfje,c="",r=(e.duogg,e.num),u=e.chuydate,v=e.chuytime,f=(e.yhje,e.id),h=e.order,p=e.pro_name,_=e.pro_tel,g=e.pro_address,m=e.pro_txt,w=(e.id,e.yhqid),x=!0,y=e.hjjg,b="table"==o?e.select_num:e.chooseNum;if(0==b)return x=!1,uni.showModal({title:"提醒",content:"您至少要选择1个产品或服务",showCancel:!1}),!1;if(!p&&2==e.datas.pro_flag)return x=!1,uni.showModal({title:"提醒",content:"姓名为必填！",showCancel:!1}),!1;var k=/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(16[0-9]{1})|(17[0-9]{1})|(18[0-9]{1})|(19[0-9]{1}))+\d{8})$/;if(!_&&2==e.datas.pro_flag_tel)return x=!1,uni.showModal({title:"提醒",content:"手机号为必填！",showCancel:!1}),!1;if(!k.test(_)&&2==e.datas.pro_flag_tel)return uni.showModal({title:"提醒",content:"请输入有效的手机号码！",showCancel:!1}),!1;if(!g&&2==e.datas.pro_flag_add)return x=!1,uni.showModal({title:"提醒",content:"地址为必填！",showCancel:!1}),!1;if(0==e.datas.tableis){if("选择日期"==u&&2==e.datas.pro_flag_data)return x=!1,uni.showModal({title:"提醒",content:"请选择日期！",showCancel:!1}),!1;if("选择时间"==v&&2==e.datas.pro_flag_time)return x=!1,uni.showModal({title:"提醒",content:"请选择时间！",showCancel:!1}),!1}for(var C=e.pagedata,z=0;z<C.length;z++){if(1==C[z].ismust)if(5==C[z].type){if(""==C[z].z_val)return x=!1,uni.showModal({title:"提醒",content:C[z].name+"为必填项！",showCancel:!1}),!1}else{if(""==C[z].val)return x=!1,uni.showModal({title:"提醒",content:C[z].name+"为必填项！",showCancel:!1}),!1;if(0==C[z].type&&1==C[z]["tp_text"][0]["yval"]){var j=/^1[3456789]{1}\d{9}$/;if(!j.test(C[z].val))return uni.showModal({title:"提醒",content:"请您输入正确的手机号码",showCancel:!1}),!1}else if(0==C[z].type&&7==C[z]["tp_text"][0]["yval"]){var S=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/;if(!S.test(C[z].val))return uni.showModal({title:"提醒",content:"请您输入正确的身份证号",showCancel:!1}),!1}}if(5==C[z].type&&C[z].z_val.length>0)for(var $=0;$<C[z].z_val.length;$++){var q=C[z].z_val[$].substr(C[z].z_val[$].indexOf("/upimages"));C[z].z_val[$]=q}}if(this.is_submit=2,x){var M="",E="",T="",P="";if(""==e.storeall)M=e.baseinfo.name,E=e.baseinfo.tel,T=e.baseinfo.address;else{var N=e.storeid,I=e.storeall;for(z=0;z<I.length;z++)if(N==I[z]["id"]){M=I[z]["title"],E=I[z]["tel"],T=I[z]["province"]+I[z]["city"]+I[z]["country"],P=I[z]["times"];break}}uni.request({url:e.$baseurl+"doPagecreateorder",data:{types:"reserve",suid:uni.getStorageSync("suid"),num:(0,s.default)(r[0]),id:f,hjjg:y,zhifu:l,zf_money:e.zf_money,zf_type:e.zf_type,order:h,pro_name:p,pro_tel:_,pro_address:g,pro_txt:m,chuydate:u,chuytime:v,yhqid:w,type:"table"==e.type?"table":"",NowSelectStr:e.NowSelectStr,appoint_date:e.appoint_date,dkscore:e.dkscore,dkmoney:e.dkmoney,pagedata:(0,s.default)(C),uniacid:e.$uniacid,fid:e.datas.formset,source:uni.getStorageSync("source"),openid:c,discounts:e.discounts,store_name:M,store_tel:E,store_address:T,store_hours:P},header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){if("1"==t.data.data.errcode)uni.showModal({title:t.data.data.err,content:"请重新下单",showCancel:!1});else if("3"==t.data.data.errcode)uni.showModal({title:t.data.data.err,content:"当前库存为"+t.data.data.kc+"件",showCancel:!1});else{var i=t.data.data.orderid;e.orderid=i,l<=e.mymoney?e.pay1(i):e.showpay()}}})}},2e3),showpay:function(){this.money=this.zf_money-this.mymoney;var t=this;uni.request({url:this.$baseurl+"doPageGetH5payshow",data:{uniacid:this.$uniacid,suid:uni.getStorageSync("suid")},success:function(e){0==e.data.data.ali&&0==e.data.data.wx?uni.showModal({title:"提示",content:"请联系管理员设置支付参数",showCancel:!1,success:function(t){return!1}}):(0==e.data.data.ali?(t.alipay=0,t.pay_type=2):(t.alipay=1,t.pay_type=1),0==e.data.data.wx?t.wxpay=0:t.wxpay=1,t.show_pay_type=1)}})},bindDateChange2:function(t){this.chuydate=t.detail.value},bindTimeChange2:function(t){this.chuytime=t.detail.value},getmoney:function(t){var e=this,i=t.currentTarget.dataset.price,a=t.currentTarget.dataset.cid,n=e.couponlist[a]["pay_money"],s=e.couponlist[a]["id"],o=e.discounts;if(0==o)var l=e.hjjg;else if(o>0)l=(e.hjjg*o).toFixed(2);if(1*l<1*n)uni.showModal({title:"提示",content:"价格未满"+n+"元，不可使用该优惠券！",showCancel:!1});else{var c=(100*e.sfje-100*(0,d.default)(i)+100*e.dkmoney)/100;e.ischecked=!1,e.switchChange("false");var r=(0,d.default)(c.toPrecision(12));r<0&&(r=0),e.jqdjg=i,console.log(i),e.yhqid=s,e.sfje=r,e.oldsfje=l,e.zf_type=(0,d.default)(e.mymoney)>=(0,d.default)(r)?0:1,e.zf_money=(0,d.default)(e.mymoney)>=(0,d.default)(r)?(0,d.default)(r):Math.round(100*((0,d.default)(r)-(0,d.default)(e.mymoney)))/100}e.hideModal()},qxyh:function(){var t=this,e=t.jqdjg;"请选择"==e&&(e=0);var i=t.sfje,a=Math.round(100*i+100*e)/100;t.hideModal(),t.jqdjg=0,t.yhqid=0,t.sfje=a,t.jqdjg="请选择"},showModal:function(){this.showModalStatus=!0},hideModal:function(){this.showModalStatus=!1},bindInputChange:function(t){var e=this,i=t.detail.value,a=t.currentTarget.dataset.index,n=e.pagedata;n[a].val=i,e.pagedata=n},bindPickerChange:function(t){var e=this,i=t.detail.value,a=t.currentTarget.dataset.index,n=e.pagedata,s=n[a].tp_text,o=s[i];n[a].val=o,e.pagedata=n},bindDateChange:function(t){var e=this,i=t.detail.value,a=t.currentTarget.dataset.index,n=e.pagedata;n[a].val=i,e.pagedata=n},bindTimeChange:function(t){var e=this,i=t.detail.value,a=t.currentTarget.dataset.index,n=e.pagedata;n[a].val=i,e.pagedata=n},checkboxChange:function(t){var e=this,i=t.detail.value,a=t.currentTarget.dataset.index,n=e.pagedata;n[a].val=i,e.pagedata=n},radioChange:function(t){var e=this,i=t.detail.value,a=t.currentTarget.dataset.index,n=e.pagedata;n[a].val=i,e.pagedata=n},choiceimg:function(t){var e=this,i=0,a=e.zhixin,n=t.currentTarget.dataset.index,s=e.pagedata,o=s[n].val,d=s[n].tp_text[0];o?i=o.length:(i=0,o=[]);var l=d-i,c=e.$baseurl+"wxupimg";e.pd_val;uni.chooseImage({count:l,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){a=!0,e.zhixin=a,uni.showLoading({title:"图片上传中"});var i=t.tempFilePaths,o=0,d=i.length,l=function t(){uni.uploadFile({url:c,filePath:i[o],name:"file",success:function(i){s[n].z_val.push(i.data),e.pagedata=s,o++,o<d?t():(a=!1,e.zhixin=a,uni.hideLoading())}})};l()}})},delimg:function(t){var e=this,i=t.currentTarget.dataset.index,a=t.currentTarget.dataset.id,n=e.pagedata,s=n[i].z_val;s.splice(a,1);var o=s.length;0==o&&(s=""),n[i].z_val=s,e.pagedata=n},namexz:function(t){for(var e=this,i=t.currentTarget.dataset.index,a=e.pagedata,n=a[i],s=[],o=0;o<n.tp_text.length;o++){var d={};d["keys"]=n.tp_text[o].yval,d["val"]=1,s.push(d)}e.ttcxs=1,e.formindex=i,e.xx=s,e.xuanz=0,e.lixuanz=-1,e.riqi()},riqi:function(){for(var t=this,e=new Date,i=new Date(e.getTime()),a=i.getFullYear(),n=i.getMonth()+1,s=i.getDate(),o=a+"-"+n+"-"+s,d=t.xx,l=0;l<d.length;l++)d[l].val=1;t.xx=d,t.gettoday(o);var c=[],r=[],u=new Date;for(l=0;l<5;l++){var v=new Date(u.getTime()+24*l*3600*1e3),f=v.getFullYear(),h=v.getMonth()+1,p=v.getDate(),_=h+"月"+p+"日",g=f+"-"+h+"-"+p;c.push(_),r.push(g)}t.arrs=c,t.fallarrs=r,t.today=o},xuanzd:function(t){for(var e=this,i=t.currentTarget.dataset.index,a=e.fallarrs,n=a[i],s=e.xx,o=0;o<s.length;o++)s[o].val=1;e.xuanz=i,e.today=n,e.lixuanz=-1,e.xx=s,e.gettoday(n)},goux:function(t){var e=this,i=t.currentTarget.dataset.index;e.lixuanz=i},gettoday:function(t){var e=this,i=e.id,a="showPro_lv_buy",n=e.formindex,s=e.xx;uni.request({url:e.$baseurl+"doPageDuzhan",data:{id:i,types:a,days:t,pagedatekey:n,uniacid:e.$uniacid},header:{"content-type":"application/json"},success:function(t){for(var i=t.data.data,a=0;a<i.length;a++)s[i[a]].val=2;var n=0;i.length==s.length&&(n=1),e.xx=s,e.isover=n}})},save:function(){var t=this,e=t.today,i=t.xx,a=t.lixuanz;if(-1==a)return uni.showModal({title:"提现",content:"请选择预约的选项",showCancel:!1}),!1;var n=i[a].keys,s="已选择"+e+"，"+n,o=t.pagedata,d=t.formindex;o[d].val=s,o[d].days=e,o[d].indexkey=d,o[d].xuanx=a,t.ttcxs=0,t.pagedata=o},quxiao:function(){var t=this;t.ttcxs=0},weixinadd:function(){var t=this;uni.chooseAddress({success:function(e){for(var i=e.provinceName+" "+e.cityName+" "+e.countyName+" "+e.detailInfo,a=e.userName,n=e.telNumber,s=t.pagedata,o=0;o<s.length;o++)0==s[o].type&&2==s[o].tp_text[0].yval&&(s[o].val=a),0==s[o].type&&3==s[o].tp_text[0].yval&&(s[o].val=n),0==s[o].type&&4==s[o].tp_text[0].yval&&(s[o].val=i);t.myname=a,t.mymobile=n,t.myaddress=i,t.pagedata=s},fail:function(t){uni.getSetting({success:function(t){t.authSetting["scope.address"]||uni.openSetting({success:function(t){}})}})}})},switchChange:function(t){var e=this;if("false"==t)var i=!1;else i=!e.ischecked;uni.getStorageSync("suid");var a=e.sfje,s=0,o=e.type,d="table"==o?e.select_num:e.chooseNum;if(1==i)uni.request({url:e.$baseurl+"doPagescoreDeduction",data:{id:e.id,num:d,suid:uni.getStorageSync("suid"),is_more:1,uniacid:e.$uniacid},header:{"content-type":"application/json"},success:function(t){var i=t.data;s=i["moneycl"];var o=i["gzmoney"],d=i["gzscore"];if(a<s&&(s=(0,n.default)(a)),0==s)var l=0;else l=s*d/o;a=Math.round(100*(a-s))/100,e.sfje=a,e.dkmoney=s,e.dkscore=l,e.jifen_u=1,e.zf_type=e.mymoney>=a?0:1,e.zf_money=e.mymoney>=a?a:Math.round(100*(a-e.mymoney))/100,e.ischecked=!0}});else{var l=e.zf_money;s=e.dkmoney;l=Math.round(100*l+100*s)/100,a=l,e.dkmoney=0,e.dkscore=0,e.jifen_u=0,e.zf_money=l,e.sfje=a,e.ischecked=!1}},pay1:function(t){var e=this;uni.showModal({title:"请注意",content:"您将使用余额支付"+e.sfje+"元",success:function(i){i.confirm?(e.payover_do(t),uni.showLoading({title:"下单中...",mask:!0}),setTimeout(function(){uni.hideLoading()},3e3)):uni.redirectTo({url:"/pagesReserve/orderList/orderList"})},fail:function(t){uni.redirectTo({url:"/pagesReserve/orderList/orderList"})}})},pay2:function(t){var e=this,i=(uni.getStorageSync("openid"),e.sfje),a=e.zf_money,n=e.hjjg;uni.request({url:e.$baseurl+"doPagebeforepay",data:{openid:uni.getStorageSync("openid"),suid:uni.getStorageSync("suid"),price:n,pay_price:a,true_price:i,order_id:t,types:"reserve",formId:e.formId,uniacid:e.$uniacid},header:{"content-type":"application/json"},success:function(i){var a=[1,2,3,4];-1!=a.indexOf(i.data.data.err)&&uni.showModal({title:"支付失败",content:i.data.data.message,showCancel:!1}),0==i.data.data.err&&(uni.request({url:e.$baseurl+"doPagesavePrepayid",data:{types:"reserve",order_id:t,prepayid:i.data.data.package,uniacid:e.$uniacid},success:function(t){},fail:function(t){}}),uni.requestPayment({timeStamp:i.data.data.timeStamp,nonceStr:i.data.data.nonceStr,package:i.data.data.package,signType:"MD5",paySign:i.data.data.paySign,success:function(t){uni.showToast({title:"支付成功",icon:"success",mask:!0,duration:3e3,success:function(t){uni.showToast({title:"购买成功！",icon:"success",success:function(){uni.navigateTo({url:"/pagesReserve/orderList/orderList"})}})}})},fail:function(t){uni.navigateTo({url:"/pagesReserve/orderList/orderList"})},complete:function(t){}}))}})},payover_do:function(t){var e=this,i=e.sfje,a="";uni.request({url:e.$baseurl+"doPagepaynotify",data:{out_trade_no:t,suid:uni.getStorageSync("suid"),openid:a,source:uni.getStorageSync("source"),payprice:i,types:"reserve",flag:0,formId:e.formId,uniacid:e.$uniacid},success:function(t){uni.showToast({title:"购买成功！",icon:"success",mask:!0,success:function(){uni.navigateTo({url:"/pagesReserve/orderList/orderList"})}})}})},refreshSessionkey:function(){var t=this;uni.login({success:function(e){uni.request({url:t.$baseurl+"doPagegetNewSessionkey",data:{uniacid:t.$uniacid,code:e.code},success:function(e){t.newSessionKey=e.data.data}})}})},getPhoneNumber:function(t){var e=this,i=t.detail.iv,a=t.detail.encryptedData;"getPhoneNumber:ok"==t.detail.errMsg?uni.checkSession({success:function(){uni.request({url:e.$baseurl+"doPagejiemiNew",data:{uniacid:e.$uniacid,newSessionKey:e.newSessionKey,iv:i,encryptedData:a},success:function(t){if(t.data.data){for(var i=e.pagedata,a=0;a<i.length;a++)0==i[a].type&&5==i[a].tp_text[0].yval&&(i[a].val=t.data.data);e.wxmobile=t.data.data,e.pagedata=i}else uni.showModal({title:"提示",content:"sessionKey已过期，请下拉刷新！"})},fail:function(t){}})},fail:function(){uni.showModal({title:"提示",content:"sessionKey已过期，请下拉刷新！"})}}):uni.showModal({title:"提示",content:"请先授权获取您的手机号！",showCancel:!1})}}};e.default=c},"85cd":function(t,e,i){"use strict";i.r(e);var a=i("e7e9"),n=i("67f1");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("d609");var o=i("2877"),d=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"2f4858c3",null);e["default"]=d.exports},d609:function(t,e,i){"use strict";var a=i("4e47"),n=i.n(a);n.a},e7e9:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.$imgurl?i("div",[t.needAuth?i("auth",{attrs:{needAuth:t.needAuth},on:{closeAuth:function(e){e=t.$handleEvent(e),t.closeAuth(e)}}}):t._e(),t.needBind?i("bindPhone",{attrs:{needBind:t.needBind},on:{closeBind:function(e){e=t.$handleEvent(e),t.closeBind(e)}}}):t._e(),t.storeall?i("v-uni-view",[i("v-uni-view",{staticClass:"choose_title"},[i("v-uni-image",{staticStyle:{width:"26rpx",height:"26rpx","margin-right":"10rpx",display:"block"},attrs:{src:t.$imgurl+"dian.png",mode:"widthFix"}}),t._v("选取自提门店")],1),i("v-uni-view",{staticClass:"contact_shop"},[i("v-uni-view",[i("v-uni-radio-group",{staticStyle:{width:"100%"},on:{change:function(e){e=t.$handleEvent(e),t.radioChange1(e)}}},[i("v-uni-scroll-view",{staticStyle:{"white-space":"nowrap",width:"100%"},attrs:{"scroll-x":"true","scroll-left":"0"}},t._l(t.storeall,function(e,a){return i("v-uni-view",{key:e.id,staticStyle:{display:"inline-block",height:"260rpx",width:"100%","box-sizing":"border-box"}},[i("v-uni-view",{attrs:{"data-id":e.id},on:{click:function(e){e=t.$handleEvent(e),t.getStore(e)}}},[i("v-uni-label",{staticClass:"radio_choose",staticStyle:{width:"100%",height:"260rpx","text-align":"center","font-size":"26rpx"}},[i("v-uni-view",{staticStyle:{"line-height":"60rpx","margin-right":"20rpx"}},[i("v-uni-radio",{staticStyle:{transform:"scale(0.7)"},attrs:{value:e.id,checked:e.id===t.storeid}})],1),i("v-uni-view",[i("v-uni-view",{staticClass:"get_message"},[i("v-uni-view",[t._v("商家名称：")]),i("v-uni-view",[t._v(t._s(e.title))])],1),i("v-uni-view",{staticClass:"get_message"},[i("v-uni-view",[t._v("联系方式：")]),i("v-uni-view",[t._v(t._s(e.tel))])],1),i("v-uni-view",{staticClass:"get_message"},[i("v-uni-view",[t._v("商家地址：")]),i("v-uni-view",[t._v(t._s(e.province+e.city+e.country))])],1),i("v-uni-view",{staticClass:"get_message"},[i("v-uni-view",[t._v("营业时间：")]),i("v-uni-view",[t._v(t._s(e.times))])],1)],1)],1)],1)],1)}),1)],1)],1)],1)],1):t._e(),""==t.storeall?i("v-uni-view",{staticClass:"shop_qu"},[i("v-uni-view",{staticClass:"contact_shop"},[i("v-uni-view",[i("v-uni-view",[t._v("商家名称：")]),i("v-uni-view",[t._v(t._s(t.baseinfo.name))])],1),i("v-uni-view",{attrs:{"data-tel":t.baseinfo.tel},on:{click:function(e){e=t.$handleEvent(e),t.makePhoneCallC(e)}}},[i("v-uni-view",[t._v("联系方式：")]),i("v-uni-view",[t._v(t._s(t.baseinfo.tel))])],1),i("v-uni-view",[i("v-uni-view",[t._v("商家地址：")]),i("v-uni-view",[t._v(t._s(t.baseinfo.address))])],1)],1)],1):t._e(),i("v-uni-view",{staticClass:"qxiq"},[i("v-uni-view",{staticClass:"thumbdx"},[i("v-uni-image",{attrs:{src:t.datas.thumb}})],1),i("v-uni-view",{staticClass:"jbxx"},[i("v-uni-view",{staticClass:"bbts"},[t._v(t._s(t.datas.title))]),i("v-uni-view",{staticClass:"zzdc"},[i("span",{staticClass:"xxdz"},[t._v("¥")]),i("span",{staticClass:"ddzd"},[t._v(t._s(t.datas.price))]),i("span",{staticClass:"xxdz"},[t._v("起")])])],1)],1),i("v-uni-view",{staticClass:"dingdxx"},[t._v("订单信息"),t.appoint_date?i("v-uni-text",{staticStyle:{color:"#FE3030","margin-left":"20rpx","font-size":"26rpx","font-weight":"normal"}},[t._v("预约时间："+t._s(t.appoint_date))]):t._e()],1),"table"!=t.type?t._l(t.datas.more_type_x,function(e,a){return i("v-uni-view",{key:a,staticClass:"shuli"},[i("v-uni-view",{staticClass:"xxbts",staticStyle:{"margin-top":"9rpx"}},[t._v(t._s(e[0]))]),i("v-uni-view",{staticClass:"jiagemeig"},[t._v("¥"+t._s(e[1])+"元")]),i("v-uni-view",{staticClass:"xxbts_r"},[i("v-uni-view",{staticClass:"jjh",attrs:{"data-testid":e[1],"data-testkey":a},on:{click:function(e){e=t.$handleEvent(e),t.jia(e)}}},[t._v("+")]),i("v-uni-input",{staticClass:"ssld",attrs:{type:"text",value:t.num[a][a],disabled:"disabled"}}),i("v-uni-view",{staticClass:"jjh",attrs:{"data-testid":e[1],"data-testkey":a},on:{click:function(e){e=t.$handleEvent(e),t.jian(e)}}},[t._v("-")])],1)],1)}):t._e(),"table"==t.type?t._l(t.select_arr,function(e,a){return i("v-uni-view",{key:a,staticClass:"shuli"},[i("v-uni-view",{staticClass:"xxbts",staticStyle:{"margin-top":"9rpx",width:"75%"}},[t._v(t._s(e))]),i("v-uni-view",{staticClass:"jiagemeig",staticStyle:{float:"right"}},[t._v("¥"+t._s(t.dprice)+"元")])],1)}):t._e(),i("v-uni-view",{staticClass:"shuli_l"},[i("v-uni-view",{staticClass:"xxbts"},[t._v("小计")]),i("v-uni-view",{staticClass:"xxbts_r_r"},[t._v("¥"+t._s(t.hjjg))])],1),t.discounts>0?i("v-uni-view",{staticClass:"flex-row flex-between price_all commonbgfff"},[i("v-uni-view",[t._v("会员折扣")]),i("v-uni-view",{staticStyle:{color:"#999"}},[t._v(t._s(t.discounts)+"折")])],1):t._e(),t.moneyoffstr?i("v-uni-view",{staticClass:"flex-row flex-between price_all commonbgfff"},[i("v-uni-view",[t._v("满减优惠")]),i("v-uni-view",{staticStyle:{color:"#999"}},[t._v(t._s(t.moneyoffstr))])],1):t._e(),i("v-uni-view",{staticClass:"shuli_l_l",on:{click:function(e){e=t.$handleEvent(e),t.showModal(e)}}},[i("v-uni-view",{staticClass:"xxbts"},[t._v("优惠券")]),i("v-uni-view",{staticClass:"xxbts_r_r",staticStyle:{color:"#999"}},[t._v(t._s("请选择"==t.jqdjg?t.jqdjg+" >":"减"+t.jqdjg))])],1),1==t.datas.is_score?i("v-uni-view",{staticClass:"flex-row flex-between price_all commonbgfff"},[i("v-uni-view",[t._v("积分抵扣")]),i("v-uni-view",{staticStyle:{flex:"1"}}),1==t.jifen_u?i("v-uni-view",{staticStyle:{color:"#999","margin-right":"30rpx"}},[t._v(t._s(t.dkscore)+"积分抵"+t._s(t.dkmoney)+"元")]):t._e(),0==t.jifen_u?i("v-uni-view",{staticStyle:{color:"#999","margin-right":"30rpx"}},[t._v("当前积分"+t._s(null==t.myscore?0:t.myscore))]):t._e(),i("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.switchChange(e)}}},[0==t.ischecked?i("v-uni-view",[i("v-uni-image",{staticClass:"switch_img",attrs:{src:t.$imgurl+"switch_false.png",mode:""}})],1):i("v-uni-view",[i("v-uni-image",{staticClass:"switch_img",attrs:{src:t.$imgurl+"switch_true.png",mode:""}})],1)],1)],1):t._e(),i("v-uni-view",{staticClass:"flex-row flex-between price_all commonbgfff"},[i("v-uni-view",[t._v("我的余额")]),i("v-uni-view",{staticStyle:{color:"#999"}},[t._v(t._s(null==t.mymoney?0:t.mymoney)+"（元）")])],1),0!=t.datas.pro_flag?i("v-uni-view",{staticClass:"shuli_l_l",staticStyle:{"margin-top":"10px"}},[i("v-uni-view",{staticClass:"xxbts kkd"},[t._v("姓名"),2==t.datas.pro_flag?i("v-uni-text",[t._v("*")]):t._e()],1),i("v-uni-view",{staticClass:"xxbts_r_k"},[i("v-uni-input",{staticClass:"surkzt_k",attrs:{type:"text",placeholder:"请填写姓名"},on:{input:function(e){e=t.$handleEvent(e),t.userNameInput(e)}}})],1)],1):t._e(),0!=t.datas.pro_flag_tel?i("v-uni-view",{staticClass:"shuli_l_l"},[i("v-uni-view",{staticClass:"xxbts kkd"},[t._v("手机号"),2==t.datas.pro_flag_tel?i("v-uni-text",[t._v("*")]):t._e()],1),i("v-uni-view",{staticClass:"xxbts_r_k"},[i("v-uni-input",{staticClass:"surkzt_k",attrs:{type:"number",placeholder:"请填写手机号",value:t.pro_tel},on:{input:function(e){e=t.$handleEvent(e),t.userTelInput(e)}}})],1)],1):t._e(),0!=t.datas.pro_flag_add?i("v-uni-view",{staticClass:"shuli_l_l"},[i("v-uni-view",{staticClass:"xxbts kkd"},[t._v("地址"),2==t.datas.pro_flag_add?i("v-uni-text",[t._v("*")]):t._e()],1),i("v-uni-view",{staticClass:"xxbts_r_k",staticStyle:{width:"75%"}},[i("v-uni-input",{staticClass:"surkzt_k",attrs:{type:"text",placeholder:"请填写您的地址",value:t.pro_address},on:{input:function(e){e=t.$handleEvent(e),t.userAddInput(e)}}})],1)],1):t._e(),0==t.datas.pro_flag_data&&0==t.datas.pro_flag_time||0!=t.datas.tableis?t._e():i("v-uni-view",{staticClass:"shuli_l_l"},[i("v-uni-view",{staticClass:"xxbts kkd"},[t._v(t._s(t.datas.pro_flag_data_name?t.datas.pro_flag_data_name:"上门时间")),2==t.datas.pro_flag_data?i("v-uni-text",[t._v("*")]):t._e()],1),0!=t.datas.pro_flag_data?i("v-uni-view",{staticClass:"xxbts_r_k"},[i("v-uni-picker",{attrs:{mode:"date",start:t.datas.start_date?t.datas.start_date:"",value:t.chuydate},on:{change:function(e){e=t.$handleEvent(e),t.bindDateChange2(e)}}},[i("v-uni-view",{staticClass:"picker_1",staticStyle:{"margin-left":"0"}},[t._v(t._s(t.chuydate))])],1)],1):t._e(),0!=t.datas.pro_flag_time?i("v-uni-view",{staticClass:"xxbts_r_k"},[i("v-uni-picker",{attrs:{mode:"time",value:t.chuytime},on:{change:function(e){e=t.$handleEvent(e),t.bindTimeChange2(e)}}},[i("v-uni-view",{staticClass:"picker_1",style:"margin-left:"+t.datas.pro_flag_data!=0?"30rpx":"0"},[t._v(t._s(t.chuytime))])],1)],1):t._e()],1),t.datas.seller_remind?i("v-uni-view",{staticClass:"shuli_l_l"},[i("v-uni-view",{staticClass:"xxbts kkd"},[t._v("卖家提醒")]),i("v-uni-view",{staticClass:"xxbts_r_k",staticStyle:{"padding-top":"6rpx"}},[t._v(t._s(t.datas.seller_remind))])],1):t._e(),0!=t.datas.pro_flag?i("v-uni-view",{staticClass:"shuli_l"},[i("v-uni-view",{staticStyle:{background:"#ffffff",padding:"30rpx 20rpx","box-sizing":"border-box"}},[i("v-uni-view",{staticStyle:{color:"#000"}},[t._v("买家留言:")]),i("v-uni-input",{staticStyle:{border:"0",padding:"0",width:"100%",height:"auto","font-size":"14px"},attrs:{type:"text",placeholder:"选填：建议填写和卖家商量好的内容~"},on:{input:function(e){e=t.$handleEvent(e),t.userTextInput(e)}}})],1)],1):t._e(),t.datas.formset&&t.datas.formset>0?i("v-uni-view",{staticClass:"content_box"},[i("v-uni-view",{staticClass:"title1 tc pt20",style:{color:t.baseinfo.base_color2}},[t._v("请填写下方信息提交")]),i("v-uni-view",{staticClass:"title1_sub tc"}),i("v-uni-view",{staticClass:"sdld"},[i("v-uni-form",{staticClass:"form_box form_box1"},[t._l(t.pagedata,function(e,a){return[0==e.type&&"0"==e.tp_text?[i("v-uni-view",{staticClass:"section inp_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),i("v-uni-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请填写"+e.name,"data-index":a},on:{input:function(e){e=t.$handleEvent(e),t.bindInputChange(e)}}})],1)]:t._e(),0==e.type&&"0"==e.tp_text[0]["yval"]?[i("v-uni-view",{staticClass:"section inp_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),i("v-uni-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请填写"+e.name,"data-index":a},on:{input:function(e){e=t.$handleEvent(e),t.bindInputChange(e)}}})],1)]:t._e(),0==e.type&&"1"==e.tp_text[0]["yval"]?[i("v-uni-view",{staticClass:"section inp_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),i("v-uni-input",{staticStyle:{width:"100%"},attrs:{type:"number",placeholder:"请填写"+e.name,"data-index":a},on:{input:function(e){e=t.$handleEvent(e),t.bindInputChange(e)}}})],1)]:t._e(),0==e.type&&"2"==e.tp_text[0]["yval"]?[i("v-uni-view",{staticClass:"section inp_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),[i("v-uni-input",{staticClass:"cdksl",attrs:{value:t.myname,placeholder:"请填写"+e.name,"data-index":a},on:{input:function(e){e=t.$handleEvent(e),t.bindInputChange(e)}}}),i("v-uni-view",{staticClass:"inputBtn inputBtn2",attrs:{"data-index":a},on:{click:function(e){e=t.$handleEvent(e),t.weixinadd(e)}}},[t._v("一键填写")])]],2)]:t._e(),0==e.type&&"3"==e.tp_text[0]["yval"]?[i("v-uni-view",{staticClass:"section inp_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),[i("v-uni-input",{staticClass:"cdksl",attrs:{type:"number",value:t.mymobile,placeholder:"请填写"+e.name,"data-index":a},on:{input:function(e){e=t.$handleEvent(e),t.bindInputChange(e)}}}),i("v-uni-view",{staticClass:"inputBtn inputBtn2",attrs:{"data-index":a},on:{click:function(e){e=t.$handleEvent(e),t.weixinadd(e)}}},[t._v("一键填写")])]],2)]:t._e(),0==e.type&&"4"==e.tp_text[0]["yval"]?[i("v-uni-view",{staticClass:"section inp_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),[i("v-uni-input",{staticClass:"cdksl",attrs:{value:t.myaddress,placeholder:"请填写"+e.name,"data-index":a},on:{input:function(e){e=t.$handleEvent(e),t.bindInputChange(e)}}}),i("v-uni-view",{staticClass:"inputBtn inputBtn2",attrs:{"data-index":a},on:{click:function(e){e=t.$handleEvent(e),t.weixinadd(e)}}},[t._v("一键填写")])]],2)]:t._e(),0==e.type&&"5"==e.tp_text[0]["yval"]?[i("v-uni-view",{staticClass:"section inp_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),[i("v-uni-input",{staticClass:"cdksl",attrs:{disabled:"true",value:t.wxmobile,placeholder:"请一键获取手机号","data-index":a}}),i("v-uni-button",{staticClass:"inputBtn inputBtn2",staticStyle:{"border-radius":"0rpx!important",margin:"10rpx 0 0 0","font-size":"24rpx",border:"0rpx!important"},attrs:{"open-type":"getPhoneNumber","data-index":a},on:{getphonenumber:function(e){e=t.$handleEvent(e),t.getPhoneNumber(e)}}},[t._v("一键填写")])]],2)]:t._e(),0==e.type&&"7"==e.tp_text[0]["yval"]?[i("v-uni-view",{staticClass:"section inp_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),i("v-uni-input",{staticStyle:{width:"100%"},attrs:{type:"number",placeholder:"请填写"+e.name,"data-index":a},on:{input:function(e){e=t.$handleEvent(e),t.bindInputChange(e)}}})],1)]:t._e(),1==e.type?[i("v-uni-view",{staticClass:"section inp_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),[i("v-uni-textarea",{attrs:{"data-index":a},on:{input:function(e){e=t.$handleEvent(e),t.bindInputChange(e)}}})]],2)]:t._e(),2==e.type?[i("v-uni-view",{staticClass:"section inp_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),i("v-uni-picker",{attrs:{range:e.tp_text,"data-index":a},on:{change:function(e){e=t.$handleEvent(e),t.bindPickerChange(e)}}},[""==t.pagedata[a].val?i("v-uni-view",{staticClass:"picker"},[t._v("请选择"+t._s(e.name))]):i("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.pagedata[a].val))])],1)],1)]:t._e(),3==e.type?[i("v-uni-view",{staticClass:"section radio_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),i("v-uni-checkbox-group",{staticClass:"radio-group",attrs:{"data-index":a},on:{change:function(e){e=t.$handleEvent(e),t.checkboxChange(e)}}},t._l(e.tp_text,function(e,a){return i("v-uni-label",{key:a,staticStyle:{width:"50%"}},[i("v-uni-checkbox",{attrs:{color:t.baseinfo.base_color2,value:e.yval}}),t._v(t._s(e["yval"]))],1)}),1)],1)]:t._e(),4==e.type?[i("v-uni-view",{staticClass:"section radio_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),i("v-uni-radio-group",{staticClass:"radio-group",attrs:{"data-index":a},on:{change:function(e){e=t.$handleEvent(e),t.radioChange(e)}}},t._l(e.tp_text,function(e,a){return i("v-uni-label",{key:a,staticClass:"radio",staticStyle:{width:"50%"}},[i("v-uni-radio",{attrs:{color:t.baseinfo.base_color2,value:e.yval}}),t._v(t._s(e["yval"]))],1)}),1)],1)]:t._e(),5==e.type?[i("v-uni-view",{staticClass:"section inp_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1)],1),i("v-uni-view",{staticClass:"tuppars"},[t._l(t.pagedata[a].z_val,function(e,n){return[i("v-uni-view",{key:n+"_0",staticClass:"tupview",attrs:{"data-index":a,"data-id":n},on:{click:function(e){e=t.$handleEvent(e),t.delimg(e)}}},[i("v-uni-text",{staticClass:"iconfont icon-cancel iconfont_weiz"}),i("v-uni-image",{attrs:{src:e,mode:"scaleToFill"}})],1)]}),!t.pagedata[a].z_val||t.pagedata[a].tp_text>t.pagedata[a].z_val.length?i("v-uni-view",{staticClass:"tupview tupview_bg",attrs:{"data-index":a},on:{click:function(e){e=t.$handleEvent(e),t.choiceimg(e)}}},[i("v-uni-image",{staticClass:"yikds",attrs:{src:t.$host+"/diypage/resource/images/diypage/default/addsicon.png"}})],1):t._e()],2)]:t._e(),7==e.type?[i("v-uni-view",{staticClass:"section inp_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),i("v-uni-picker",{attrs:{mode:"date","data-index":a},on:{change:function(e){e=t.$handleEvent(e),t.bindDateChange(e)}}},[""==t.pagedata[a].val?i("v-uni-view",{staticClass:"picker"},[t._v("请选择"+t._s(e.name))]):i("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.pagedata[a].val))])],1)],1)]:t._e(),11==e.type?[i("v-uni-view",{staticClass:"section inp_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),i("v-uni-picker",{attrs:{mode:"time","data-index":a},on:{change:function(e){e=t.$handleEvent(e),t.bindTimeChange(e)}}},[""==t.pagedata[a].val?i("v-uni-view",{staticClass:"picker"},[t._v("请选择"+t._s(e.name))]):i("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.pagedata[a].val))])],1)],1)]:t._e(),14==e.type?[i("v-uni-view",{staticClass:"section inp_box"},[i("v-uni-view",{staticClass:"section__title"},[t._v(t._s(e.name)),i("v-uni-text",{class:"show_"+e.ismust},[t._v("*")])],1),i("v-uni-view",[i("v-uni-input",{staticClass:"cdksl",attrs:{disabled:"false",value:e.val,placeholder:"请选择"+e.name,"data-index":a}}),i("v-uni-view",{staticClass:"inputBtn",attrs:{"data-index":a},on:{click:function(e){e=t.$handleEvent(e),t.namexz(e)}}},[t._v("请选择")])],1)],1)]:t._e()]}),t.formdescs?[t._v("说明："+t._s(t.formdescs))]:t._e()],2)],1)],1):t._e(),1==t.ttcxs?[i("v-uni-view",{staticClass:"tcc_bb"},[i("v-uni-view",{staticClass:"tcc_bb_t"},t._l(t.arrs,function(e,a){return i("v-uni-view",{key:a,class:["xlld",a==t.xuanz?"act":""],attrs:{"data-index":a},on:{click:function(e){e=t.$handleEvent(e),t.xuanzd(e)}}},[t._v(t._s(e))])}),1),i("v-uni-view",{staticClass:"sddds"},[t._l(t.xx,function(e,a){return[1==e.val?i("v-uni-view",{key:a+"_0",class:["nldks",a==t.lixuanz?"act":""],attrs:{"data-index":a},on:{click:function(e){e=t.$handleEvent(e),t.goux(e)}}},[t._v(t._s(e.keys))]):t._e(),2==e.val?i("v-uni-view",{key:a+"_1",staticClass:"nldks act_yx",attrs:{"data-index":a}},[t._v(t._s(e.keys))]):t._e()]})],2),1==t.isover?i("v-uni-view",{staticClass:"pageNoticeT notice_red"},[t._v("对不起，今日已被选完，请查看其他日期")]):t._e(),i("v-uni-view",{staticClass:"dibti_qx",on:{click:function(e){e=t.$handleEvent(e),t.quxiao(e)}}},[t._v("返回")]),i("v-uni-view",{staticClass:"dibti",on:{click:function(e){e=t.$handleEvent(e),t.save(e)}}},[t._v("确定选择")])],1)]:t._e(),i("v-uni-view",{staticClass:"foot"},[i("v-uni-view",{staticClass:"sfje"},[t._v("需付："),i("v-uni-text",{staticStyle:{color:"#ef3250"}},[t._v("￥"+t._s(t.zf_money))])],1),i("v-uni-view",[0==t.zf_type?i("v-uni-view",[i("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(e){e=t.$handleEvent(e),t.submit(e)}}},[i("v-uni-button",{staticClass:"submit",attrs:{formType:"submit"}},[t._v("余额支付")])],1)],1):t._e(),1==t.zf_type?i("v-uni-view",[i("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(e){e=t.$handleEvent(e),t.submit(e)}}},[i("v-uni-button",{staticClass:"submit",attrs:{formType:"submit"}},[t._v("确认支付")])],1)],1):t._e()],1)],1),0==t.datas.pro_kc?i("v-uni-view",[i("v-uni-button",{staticClass:"bbbt1"},[t._v("您来晚了，商品已经售完")])],1):t._e(),t.xg_buy<=0?i("v-uni-view",[i("v-uni-button",{staticClass:"bbbt1"},[t._v("您已经购买了最大限购数量")])],1):t._e(),i("v-uni-view"),t.showModalStatus?i("v-uni-view",{staticClass:"commodity_screen",on:{click:function(e){e=t.$handleEvent(e),t.hideModal(e)}}}):t._e(),t.showModalStatus?i("v-uni-view",{staticClass:"commodity_attr_box"},[i("v-uni-view",{staticClass:"noyhq",on:{click:function(e){e=t.$handleEvent(e),t.qxyh(e)}}},[t._v("不使用优惠券"),i("v-uni-view",{staticClass:"bsyyyd"},[i("v-uni-icon",{attrs:{type:"cancel",size:"20",color:"red"}}),t._v("关闭")],1)],1),i("v-uni-view",{staticClass:"rongqi"},t._l(t.couponlist,function(e,a){return i("v-uni-view",{key:a,staticClass:"xuanzyh",attrs:{"data-cid":a,"data-index":e,"data-price":e.price},on:{click:function(e){e=t.$handleEvent(e),t.getmoney(e)}}},[i("v-uni-view",{staticClass:"libju"},[i("v-uni-view",{staticClass:"limdd"},[t._v(t._s(e.title))]),i("v-uni-view",{staticClass:"limmd_s"},[t._v("满"+t._s(e.pay_money)+"元可用")])],1),i("v-uni-view",{staticClass:"jutqs"},[t._v(t._s(e.price)+"元")]),i("v-uni-view",{staticClass:"libj2"},[e.id==t.yhqid?i("v-uni-icon",{attrs:{type:"success",size:"20",color:"#ff9900"}}):t._e()],1)],1)}),1)],1):t._e(),1==t.show_pay_type?i("v-uni-view",{staticClass:"zhezhao",staticStyle:{display:"block"}},[i("v-uni-view",{staticClass:"t_w"},[i("v-uni-view",{staticClass:"tanchu_view"},[i("v-uni-image",{staticClass:"close",attrs:{src:t.$imgurl+"close.png",mode:""},on:{click:function(e){e=t.$handleEvent(e),t.close_pay_type(e)}}}),i("v-uni-text",[t._v("支付方式")]),1==t.wxpay?i("v-uni-view",{staticStyle:{"border-bottom":"1px solid #e9e6e6"},on:{click:function(e){e=t.$handleEvent(e),t.changewxpay(e)}}},[i("v-uni-view",{staticClass:"view_left"},[i("v-uni-image",{attrs:{src:t.$imgurl+"wx.png",mode:""}}),i("v-uni-text",[t._v("微信支付")])],1),1==t.pay_type?i("v-uni-view",{staticClass:"view_right"},[i("v-uni-image",{attrs:{src:t.$imgurl+"chk2.png"}})],1):t._e(),2==t.pay_type?i("v-uni-view",{staticClass:"view_right"},[i("v-uni-image",{attrs:{src:t.$imgurl+"chk1.png",id:"chk"}})],1):t._e()],1):t._e(),1==t.alipay?i("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.changealipay(e)}}},[i("v-uni-view",{staticClass:"view_left"},[i("v-uni-image",{attrs:{src:t.$imgurl+"zfb.png",mode:""}}),i("v-uni-text",[t._v("支付宝支付")])],1),1==t.pay_type?i("v-uni-view",{staticClass:"view_right"},[i("v-uni-image",{attrs:{src:t.$imgurl+"chk1.png",id:"chk"}})],1):t._e(),2==t.pay_type?i("v-uni-view",{staticClass:"view_right"},[i("v-uni-image",{attrs:{src:t.$imgurl+"chk2.png"}})],1):t._e()],1):t._e(),i("v-uni-button",{staticClass:"btn_submit",on:{click:function(e){e=t.$handleEvent(e),t.h5topay(e)}}},[t._v("确认支付￥"),i("v-uni-text",[t._v(t._s(t.zf_money))])],1)],1)],1)],1):t._e()],2):t._e()},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})}}]);