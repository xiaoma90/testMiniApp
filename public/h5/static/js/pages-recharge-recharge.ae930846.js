(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-recharge-recharge"],{"0f5f":function(t,e,i){"use strict";var n=i("c3b1"),a=i.n(n);a.a},"30d1":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("55f5"),a={data:function(){return{baseinfo:"",$imgurl:this.$imgurl,guiz:{conf:{},user:{money:0}},needAuth:!1,needBind:!1,pay_type:1,show_pay_type:0,alipay:1,wxpay:1,money:"",is_ios:0,coupon_num:0,coupon_con:[]}},onLoad:function(t){var e=this,i=uni.getStorageSync("suid");this.checkvip(),this._baseMin(this);var a=0;t.fxsid&&(a=t.fxsid),this.fxsid=a,n.h5login(a,function(){e.getGuiz()}),i||(this.needAuth=!0);var o=uni.getStorageSync("systemInfo")["system"];o.indexOf("iOS")>=0&&(this.is_ios=1)},methods:{ChargeMoney:function(t){var e=t.currentTarget.dataset.money;this.money=e},cell:function(){this.needAuth=!1},closeAuth:function(){this.needAuth=!1,this.needBind=!0},closeBind:function(){this.needBind=!1,this.getGuiz()},checkvip:function(t){var e=this,i=uni.getStorageSync("suid");uni.request({url:e.$baseurl+"doPagecheckvip",data:{uniacid:e.$uniacid,kwd:"recharge",suid:i},success:function(t){if(!1===t.data.data)return e.needvip=!0,uni.showModal({title:"进入失败",content:"使用本功能需先开通vip!",showCancel:!1,success:function(t){t.confirm&&uni.redirectTo({url:"/pages/register/register"})}}),!1},fail:function(t){}})},getGuiz:function(){var t=this;uni.request({url:this.$baseurl+"doPageGuiz",data:{suid:uni.getStorageSync("suid"),uniacid:this.$uniacid},success:function(e){console.log(e),t.guiz=e.data.data}})},setmoney:function(t){this.money=t.detail.value},getSuid:function(){var t=uni.getStorageSync("suid");if(t)return!0;var e="";return e?this.needBind=!0:this.needAuth=!0,!1},setsubmit:function(){if(!this.getSuid())return!1;var t=this,e=(uni.getStorageSync("suid"),t.baseinfo.ios);if(0==e&&1==this.is_ios)uni.showModal({title:"提示",content:"iOS系统不支持虚拟支付",showCancel:!1,success:function(t){uni.redirectTo({url:"/pages/index/index"})}});else{var i=t.money,n=!0;if(i<=0)return uni.showModal({title:"提醒",content:"请输入正确的充值金额！",showCancel:!1}),n=!1,!1;n&&uni.request({url:t.$baseurl+"doPageRechargeOrder",data:{suid:uni.getStorageSync("suid"),money:i,uniacid:t.$uniacid,source:uni.getStorageSync("source")},success:function(e){t.orderid=e.data.data.order_id,t.showpay()}})}},showpay:function(){var t=this,e=t.money;e&&0!=e?uni.request({url:this.$baseurl+"doPageGetH5payshow",data:{uniacid:this.$uniacid,suid:uni.getStorageSync("suid")},success:function(e){0==e.data.data.ali&&0==e.data.data.wx?uni.showModal({title:"提示",content:"请联系管理员设置支付参数",showCancel:!1,success:function(t){return!1}}):(0==e.data.data.ali?(t.alipay=0,t.pay_type=2):(t.alipay=1,t.pay_type=1),0==e.data.data.wx?t.wxpay=0:t.wxpay=1,t.show_pay_type=1)}}):uni.showModal({title:"提示",content:"请输入有效充值金额",showCancel:!1,success:function(t){return!1}})},changealipay:function(){this.pay_type=1},changewxpay:function(){this.pay_type=2},close_pay_type:function(){this.show_pay_type=0},h5topay:function(){var t=this.pay_type,e=this.baseinfo.ios;0==e&&1==this.is_ios?uni.showModal({title:"提示",content:"iOS系统不支持虚拟支付",showCancel:!1,success:function(t){uni.redirectTo({url:"/pages/index/index"})}}):(1==t?this._alih5pay(this,this.money,15,this.orderid):2==t&&this._wxh5pay(this,this.money,"recharge",this.orderid),this.show_pay_type=0)}}};e.default=a},5557:function(t,e,i){"use strict";i.r(e);var n=i("6c54"),a=i("762c");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i("0f5f");var s=i("2877"),d=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"4d00f466",null);e["default"]=d.exports},"6c54":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.$imgurl?i("v-uni-view",[t.needAuth?i("auth",{attrs:{needAuth:t.needAuth},on:{closeAuth:function(e){e=t.$handleEvent(e),t.closeAuth(e)},cell:function(e){e=t.$handleEvent(e),t.cell(e)}}}):t._e(),t.needBind?i("bindPhone",{attrs:{needBind:t.needBind},on:{closeBind:function(e){e=t.$handleEvent(e),t.closeBind(e)}}}):t._e(),i("v-uni-view",{staticClass:"recharge_head",style:{background:t.baseinfo.base_color,color:"#fff"}},[i("v-uni-view",[i("v-uni-view",{staticClass:"row_bt"},[t._v("当前余额")]),i("v-uni-view",[i("v-uni-text",[t._v("¥"+t._s(t.guiz.user.money))])],1)],1),i("v-uni-view",{staticStyle:{width:"2rpx",height:"80rpx",background:"#fff"}}),i("v-uni-view",[i("v-uni-view",[t._v("当前积分")]),i("v-uni-view",[t._v(t._s(t.guiz.user.score))])],1)],1),i("v-uni-view",{staticClass:"recharge_pro"},[i("v-uni-text"),i("v-uni-text",[t._v("充值套餐")]),i("v-uni-text")],1),i("v-uni-view",{staticClass:"bg_f mb10 recharge_main"},[t._l(t.guiz.list,function(e,n){return[i("v-uni-view",{key:n+"_0",staticClass:"coupon",attrs:{"data-money":e.money},on:{click:function(e){e=t.$handleEvent(e),t.ChargeMoney(e)}}},[i("v-uni-view",[t._v("充"+t._s(e.money)+"元")]),i("v-uni-view",[t._v(t._s(e.allmoney)+"元"+t._s(0!=e.getscore?"+"+e.getscore+"积分":""))]),i("v-uni-view",{staticClass:"coupon_view"},[t._v(t._s(null!=e.coupon_con?"优惠券"+e.coupon_num+"张":""))]),e.getmoney>0?i("v-uni-view",{staticClass:"coupon_zeng"},[i("v-uni-image",{attrs:{src:t.$imgurl+"recharge_bg.png",mode:""}}),i("v-uni-text",[t._v("赠"+t._s(e.getmoney)+"元")])],1):t._e()],1)]})],2),i("v-uni-view",{staticClass:"bg_f mb10"},[i("v-uni-view",{staticClass:"money_box"},[i("v-uni-input",{staticClass:"row_bc",attrs:{type:"digit",placeholder:"请输入充值金额",value:t.money},on:{input:function(e){e=t.$handleEvent(e),t.setmoney(e)}}}),i("v-uni-text",[t._v("元")])],1)],1),i("v-uni-view",{staticClass:"xld"},[i("v-uni-button",{staticClass:"wxzhi",style:{background:t.baseinfo.base_color,color:"#fff"},on:{click:function(e){e=t.$handleEvent(e),t.setsubmit(e)}}},[t._v("确认支付")])],1),1==t.show_pay_type?i("v-uni-view",{staticClass:"zhezhao_z",staticStyle:{display:"block"}},[i("v-uni-view",{staticClass:"t_w"},[i("v-uni-view",{staticClass:"tanchu_view"},[i("v-uni-image",{staticClass:"close",attrs:{src:t.$imgurl+"close.png",mode:""},on:{click:function(e){e=t.$handleEvent(e),t.close_pay_type(e)}}}),i("v-uni-text",[t._v("支付方式")]),1==t.wxpay?i("v-uni-view",{staticStyle:{"border-bottom":"1px solid #e9e6e6"},on:{click:function(e){e=t.$handleEvent(e),t.changewxpay(e)}}},[i("v-uni-view",{staticClass:"view_left"},[i("v-uni-image",{attrs:{src:t.$imgurl+"wx.png",mode:""}}),i("v-uni-text",[t._v("微信支付")])],1),1==t.pay_type?i("v-uni-view",{staticClass:"view_right"},[i("v-uni-image",{attrs:{src:t.$imgurl+"chk2.png"}})],1):t._e(),2==t.pay_type?i("v-uni-view",{staticClass:"view_right"},[i("v-uni-image",{attrs:{src:t.$imgurl+"chk1.png",id:"chk"}})],1):t._e()],1):t._e(),1==t.alipay?i("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.changealipay(e)}}},[i("v-uni-view",{staticClass:"view_left"},[i("v-uni-image",{attrs:{src:t.$imgurl+"zfb.png",mode:""}}),i("v-uni-text",[t._v("支付宝支付")])],1),1==t.pay_type?i("v-uni-view",{staticClass:"view_right"},[i("v-uni-image",{attrs:{src:t.$imgurl+"chk1.png",id:"chk"}})],1):t._e(),2==t.pay_type?i("v-uni-view",{staticClass:"view_right"},[i("v-uni-image",{attrs:{src:t.$imgurl+"chk2.png"}})],1):t._e()],1):t._e(),i("v-uni-button",{staticClass:"btn_submit",on:{click:function(e){e=t.$handleEvent(e),t.h5topay(e)}}},[t._v("确认支付￥"),i("v-uni-text",[t._v(t._s(t.money))])],1)],1)],1)],1):t._e()],1):t._e()},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},"762c":function(t,e,i){"use strict";i.r(e);var n=i("30d1"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=a.a},c3b1:function(t,e,i){var n=i("fcfb");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("6eac3f72",n,!0,{sourceMap:!1,shadowMode:!1})},fcfb:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'uni-page-body[data-v-4d00f466]{padding:%?26?% %?20?%;-webkit-box-sizing:border-box;box-sizing:border-box}.zhezhao_z[data-v-4d00f466]{position:fixed;width:%?750?%;height:100%;top:0;background:rgba(0,0,0,.3);overflow:hidden;z-index:99}.zhezhao_z .t_w[data-v-4d00f466]{position:relative;z-index:100;overflow:visible;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.zhezhao_z .tanchu_view[data-v-4d00f466]{width:80%;margin:auto;overflow:hidden;background-color:#fff;border-radius:%?10?%;padding-top:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;text-align:center;position:relative}#chk[data-v-4d00f466]{width:%?70?%;height:%?70?%;margin-right:%?-6?%}.zhezhao_z .tanchu_view>uni-text[data-v-4d00f466]{font-size:%?44?%;font-weight:500;color:#333;height:%?100?%;line-height:%?100?%}.zhezhao_z .tanchu_view>uni-view[data-v-4d00f466]{height:%?100?%;line-height:%?100?%;overflow:visible;margin:%?20?% %?40?%}.zhezhao_z .tanchu_view>uni-view[data-v-4d00f466]:after{clear:both;content:"";display:block}.view_left[data-v-4d00f466]{float:left}.view_right[data-v-4d00f466]{float:right}.view_right>uni-image[data-v-4d00f466]{width:%?60?%;height:%?60?%;vertical-align:middle}.zhezhao_z .tanchu_view>uni-view[data-v-4d00f466]:after{clear:both;content:"";display:block}.view_left>uni-image[data-v-4d00f466]{width:%?50?%;height:%?50?%;display:inline-block;vertical-align:middle;margin-right:%?30?%}.view_left>uni-text[data-v-4d00f466]{font-size:%?36?%;color:#333;font-weight:500}.zhezhao_z .btn_submit[data-v-4d00f466]{width:100%;height:%?110?%;line-height:%?110?%;background-color:#2f74fd;color:#fff;border:none;border-radius:%?10?%;font-size:%?38?%;margin:%?60?% auto 0;border-radius:0}uni-button[data-v-4d00f466]:after{border:none}.zhezhao_z .btn_submit>uni-text[data-v-4d00f466]{font-size:%?50?%}.close[data-v-4d00f466]{width:%?40?%;height:%?40?%;position:absolute;top:%?50?%;right:%?30?%}.chongz[data-v-4d00f466]{padding:0 %?20?%}.cz[data-v-4d00f466]{height:%?80?%;line-height:%?80?%;color:#000;border-bottom:1px solid #dedede;padding-left:%?30?%;position:relative}.jutiz[data-v-4d00f466]{position:absolute;right:0;top:0;text-align:right}.ssld[data-v-4d00f466]{position:absolute;top:0;right:0;height:%?40?%;margin-top:0;text-align:right;background-color:#f1f1f1}.xld[data-v-4d00f466]{padding:0 %?60?%}.wxzhi[data-v-4d00f466]{margin-top:%?50?%}.niew[data-v-4d00f466]{padding:%?10?% %?10?%}.money_box[data-v-4d00f466]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:0 %?20?%;-webkit-box-sizing:border-box;box-sizing:border-box}.money_box uni-input[data-v-4d00f466]{line-height:%?84?%;padding:%?10?%;min-height:%?84?%;border:none;margin-top:%?4?%;width:%?500?%;height:auto}.money_box uni-text[data-v-4d00f466]{margin:%?10?% %?20?%;line-height:%?84?%}.recharge_head[data-v-4d00f466]{border-radius:%?10?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;height:%?208?%}.recharge_head>uni-view[data-v-4d00f466]{width:%?354?%;vertical-align:center}.recharge_head>uni-view>uni-view[data-v-4d00f466]:first-child{font-size:%?30?%;margin-bottom:%?20?%}.recharge_head>uni-view>uni-view[data-v-4d00f466]:last-child{font-size:%?34?%;height:%?50?%;line-height:%?50?%}.recharge_pro[data-v-4d00f466]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:%?46?% 0 %?32?%}.recharge_pro>uni-text[data-v-4d00f466]:first-child,.recharge_pro>uni-text[data-v-4d00f466]:last-child{width:%?160?%;height:%?2?%;background:#e8e8e8}.recharge_pro>uni-text[data-v-4d00f466]:nth-child(2){font-size:%?26?%;color:#999;margin:0 %?30?%}.coupon[data-v-4d00f466]{width:%?280?%;padding:%?20?%;border:%?2?% solid #e8e8e8;margin:%?10?%;position:relative;overflow:hidden}.recharge_main[data-v-4d00f466]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:%?10?%;-webkit-box-sizing:border-box;box-sizing:border-box}.coupon_zeng[data-v-4d00f466]{position:absolute;top:0;right:0;text-align:center;font-size:%?24?%;color:#fff;width:%?148?%;height:%?50?%}.coupon_zeng>uni-image[data-v-4d00f466]{display:block;width:100%;height:100%}.coupon_zeng>uni-text[data-v-4d00f466]{color:#fff;position:absolute;top:%?4?%;left:%?20?%;right:0;bottom:0;z-index:10}.coupon>uni-view[data-v-4d00f466]:first-child{color:#333;font-size:%?26?%}.coupon>uni-view[data-v-4d00f466]:nth-child(2),.coupon_view[data-v-4d00f466]{color:#999;font-size:%?24?%}.vipcoupon[data-v-4d00f466]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;z-index:9997}.vipcouponCon[data-v-4d00f466]{position:absolute;left:0;top:0;width:100%;height:100%;z-index:900002}.zhezhao[data-v-4d00f466]{position:fixed;width:%?750?%;height:100%;top:0;background:rgba(0,0,0,.4);overflow:hidden;z-index:9999}.t_w[data-v-4d00f466]{position:relative;z-index:10000;overflow:visible;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.tanchu_view_u[data-v-4d00f466]{width:%?680?%;margin:auto;overflow:hidden;background-color:#fff;border-radius:%?10?%}.bg_view[data-v-4d00f466]{margin:0 auto;color:#fff;text-align:center;padding:%?30?% 0}.bg_view>uni-text[data-v-4d00f466]{display:block}.bg_view>uni-text[data-v-4d00f466]:first-child{font-size:%?40?%}.bg_view>uni-text[data-v-4d00f466]:last-child{font-size:%?32?%}',""])}}]);