(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-coupon-coupon"],{4016:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.$imgurl?i("v-uni-view",{staticStyle:{position:"fixed","overflow-y":"scroll",top:"0",left:"0",right:"0",bottom:"0"}},[e.needAuth?i("auth",{attrs:{needAuth:e.needAuth},on:{closeAuth:function(t){t=e.$handleEvent(t),e.closeAuth(t)},cell:function(t){t=e.$handleEvent(t),e.cell(t)}}}):e._e(),e.needBind?i("bindPhone",{attrs:{needBind:e.needBind},on:{closeBind:function(t){t=e.$handleEvent(t),e.closeBind(t)}}}):e._e(),i("v-uni-view",{staticClass:"toubu1"},[i("v-uni-view",{staticClass:"yhq check"},[i("v-uni-view",{staticClass:"check_on"},[e._v("可领优惠券")])],1),i("v-uni-view",{staticClass:"wyhq",on:{click:function(t){t=e.$handleEvent(t),e.mycoupp(t)}}},[e._v("我的优惠券")])],1),i("v-uni-view",{staticStyle:{height:"172rpx"}}),i("v-uni-view",{staticClass:"couponlist_box"},[e._l(e.couponlist,function(t,s){return i("v-uni-view",{key:s,staticClass:"youhqs"},[1==t.isover_time?[i("v-uni-view",{staticClass:"yuan_left"}),i("v-uni-view",{staticClass:"yuan_right"}),i("v-uni-view",{staticClass:"wkk"},[i("v-uni-view",{staticClass:"wkk_top"},[i("v-uni-view",{staticClass:"shujl",style:{color:e.baseinfo.base_color}},[i("v-uni-text",{staticClass:"jiagq"},[i("v-uni-text",{staticStyle:{"font-size":"42rpx","font-weight":"normal"}},[e._v("￥")]),e._v(e._s(t.price))],1),i("v-uni-text",{staticClass:"limit_count",style:{display:0==t.xz_count?"none":"inline-block",border:"2rpx solid "+e.baseinfo.base_color}},[e._v("限领"),t.xz_count>0?i("v-uni-text",[e._v(e._s(t.xz_count)+"张")]):e._e()],1)],1),i("v-uni-view",{staticClass:"qitxx"},[i("v-uni-view",{staticClass:"yhq_t"},[e._v(e._s(t.title))]),i("v-uni-view",{staticClass:"xiaozi"},[0==t.pay_money?i("v-uni-text",[e._v("任意金额可用")]):i("v-uni-text",[e._v("满"+e._s(t.pay_money)+"可用")])],1),i("v-uni-view",{staticClass:"xiaozi",staticStyle:{"margin-top":"18rpx"}},[e._v("有效期："),0==t.use_contents["use_type"]&&0==t.use_contents["use_time"]["use_btime"]&&0==t.use_contents["use_time"]["use_etime"]?i("v-uni-text",[e._v("永久有效")]):e._e(),0==t.use_contents["use_type"]&&0==t.use_contents["use_time"]["use_btime"]&&0!=t.use_contents["use_time"]["use_etime"]?i("v-uni-text",[e._v(e._s(t.use_contents["use_time"]["use_etime"])+"前有效")]):e._e(),0==t.use_contents["use_type"]&&0!=t.use_contents["use_time"]["use_btime"]&&0==t.use_contents["use_time"]["use_etime"]?i("v-uni-text",[e._v(e._s(t.use_contents["use_time"]["use_btime"])+"后有效")]):e._e(),0==t.use_contents["use_type"]&&0!=t.use_contents["use_time"]["use_btime"]&&0!=t.use_contents["use_time"]["use_etime"]?i("v-uni-text",[e._v(e._s(t.use_contents["use_time"]["use_btime"])+"至"+e._s(t.use_contents["use_time"]["use_etime"]))]):e._e(),1==t.use_contents["use_type"]&&1!=t.use_contents["use_time"]?i("v-uni-text",[e._v("领取当日 "+e._s(t.use_contents["use_time"])+" 天内有效")]):e._e(),1==t.use_contents["use_type"]&&1==t.use_contents["use_time"]?i("v-uni-text",[e._v("领取当日有效")]):e._e(),2==t.use_contents["use_type"]&&1!=t.use_contents["use_time"]?i("v-uni-text",[e._v("领取次日 "+e._s(t.use_contents["use_time"])+" 天内有效")]):e._e(),2==t.use_contents["use_type"]&&1==t.use_contents["use_time"]?i("v-uni-text",[e._v("领取次日有效")]):e._e()],1)],1),-1!=t.kc?i("v-uni-view",{staticClass:"lijlq"},[i("v-uni-view",{staticClass:"lijlq_num",style:{color:e.baseinfo.base_color}},[e._v("已领"+e._s(t.pers)+"%")]),i("v-uni-progress",{attrs:{percent:t.pers,"stroke-width":"2",activeColor:e.baseinfo.base_color,backgroundColor:"#eee"}})],1):e._e()],1),i("v-uni-view",{staticClass:"include_types"},[1==t.use_goods_contents.type?i("v-uni-view",{staticClass:"include_items"},[i("v-uni-view",{class:["include_words",1==e.hide_type&&e.couid==s?"":"include_words_no"]},[e._v("适用品类："+e._s(t.use_goods_contents.contents))]),i("v-uni-view",{class:["iconfont",1==e.hide_type&&e.couid==s?"icon-x-shang":"icon-x-xia"],attrs:{"data-couid":s},on:{click:function(t){t=e.$handleEvent(t),e.showType(t)}}})],1):i("v-uni-view",{staticClass:"include_items"},[i("v-uni-view",{staticClass:"include_words"},[e._v("适用品类：全类目")])],1),i("v-uni-view",[1==e.kaiq?[1==t.is_get?i("v-uni-button",{staticClass:"ljlq",style:{background:e.baseinfo.base_color},attrs:{"data-id":t.id},on:{click:function(t){t=e.$handleEvent(t),e.getit_zj(t)}}},[e._v("立即领取")]):e._e()]:e._e(),0==t.is_get?i("v-uni-button",{staticClass:"ljlq2"},[e._v("已领取")]):e._e(),t.kc<=0&&-1!=t.kc?i("v-uni-button",{staticClass:"ljlq2"},[e._v("已领完")]):e._e()],2)],1)],1)]:e._e()],2)}),0==e.couponlist_lenght?[i("v-uni-image",{staticClass:"pageno_address",attrs:{src:e.$imgurl+"no_active.png"}}),i("v-uni-view",{staticStyle:{"text-align":"center",color:"#666"}},[e._v("还没有相关内容哟~")])]:e._e()],2),i("copyright",{attrs:{baseinfo:e.baseinfo}}),i("myfooter",{attrs:{page_signs:e.page_signs,baseinfo:e.baseinfo}})],1):e._e()},n=[];i.d(t,"a",function(){return s}),i.d(t,"b",function(){return n})},6650:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i("55f5"),n={data:function(){return{$imgurl:this.$imgurl,couponlist:[],couponlist_lenght:0,baseinfo:{},page_signs:"/pages/coupon/coupon",needAuth:!1,needBind:!1,kaiq:0,disabled:!1,hide_type:0,couid:""}},onLoad:function(e){var t=this,i=uni.getStorageSync("suid");this.checkvip(),this._baseMin(this);var n=0;e.fxsid&&(n=e.fxsid),this.fxsid=n,s.h5login(n,function(){t.getList(),t.couset()}),i||(this.needAuth=!0)},onPullDownRefresh:function(){this.getList(),this.couset(),uni.stopPullDownRefresh()},methods:{showType:function(e){this.couid=e.currentTarget.dataset.couid,0==this.hide_type?this.hide_type=1:this.hide_type=0},cell:function(){this.needAuth=!1},closeAuth:function(){this.needAuth=!1,this.needBind=!0},closeBind:function(){this.needBind=!1,this.getList(),this.couset()},getSuid:function(){var e=uni.getStorageSync("suid");if(e)return!0;var t="";return t?this.needBind=!0:this.needAuth=!0,!1},checkvip:function(e){var t=this,i=uni.getStorageSync("suid");uni.request({url:t.$baseurl+"doPagecheckvip",data:{uniacid:t.$uniacid,kwd:"coupon",suid:i},success:function(e){if(!1===e.data.data)return t.needvip=!0,uni.showModal({title:"进入失败",content:"使用本功能需先开通vip!",showCancel:!1,success:function(e){e.confirm&&uni.redirectTo({url:"/pages/register/register"})}}),!1},fail:function(e){}})},getList:function(){var e=this;uni.request({url:this.$baseurl+"doPageCoupon",data:{suid:uni.getStorageSync("suid"),uniacid:this.$uniacid},success:function(t){e.couponlist=t.data.data,e.couponlist_lenght=t.data.data.length,uni.hideNavigationBarLoading(),uni.stopPullDownRefresh()}})},getit_zj:s.throttle(function(e){if(!this.disabled){if(!this.getSuid())return!1;this.disabled=!0;var t=this,i=e.currentTarget.dataset.id;uni.getStorage({key:"suid",success:function(e){var s=e.data;s&&uni.request({url:t.$baseurl+"doPagegetcoupon",data:{id:i,suid:s,uniacid:t.$uniacid},success:function(e){1==e.data.data&&uni.showToast({title:"领取成功",icon:"success",duration:2e3,success:function(){setTimeout(function(){t.getList(),t.disabled=!1},500)}}),2==e.data.data&&uni.showToast({title:"领取失败",icon:"loading",duration:2e3,success:function(){setTimeout(function(){t.getList(),t.disabled=!1},500)}})}})}})}},1e3),mycoupp:function(){uni.redirectTo({url:"/pages/mycoupon/mycoupon"})},couset:function(){var e=this;uni.request({url:e.$baseurl+"doPagecouponset",data:{uniacid:e.$uniacid},success:function(t){var i=1;i=t.data.data?t.data.data.flag:1,e.kaiq=i}})}}};t.default=n},"8ea3":function(e,t,i){"use strict";var s=i("9cfe"),n=i.n(s);n.a},"9cfe":function(e,t,i){var s=i("d1f4");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var n=i("4f06").default;n("19e92e3e",s,!0,{sourceMap:!1,shadowMode:!1})},c577:function(e,t,i){"use strict";i.r(t);var s=i("4016"),n=i("e57c");for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);i("8ea3");var a=i("2877"),c=Object(a["a"])(n["default"],s["a"],s["b"],!1,null,"4c4d2bce",null);t["default"]=c.exports},d1f4:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".toubu[data-v-4c4d2bce]{position:fixed;background:#fff;width:100%;height:%?86?%;line-height:%?86?%;text-align:center;top:0;z-index:10;overflow:visible}.toubu1[data-v-4c4d2bce]{position:fixed;width:100%;height:%?86?%;line-height:%?86?%;text-align:center;top:%?86?%;z-index:10;overflow:visible;background:#fff}.check[data-v-4c4d2bce]{color:#f4361d}.check_on[data-v-4c4d2bce]{border-bottom:%?2?% solid #f4361d}.yhq[data-v-4c4d2bce]{display:inline-block;width:50%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 %?116?%}.wyhq[data-v-4c4d2bce]{display:inline-block;width:50%;color:#969696}.couponlist_box[data-v-4c4d2bce]{padding:%?20?%}.youhqs[data-v-4c4d2bce]{margin-bottom:%?20?%;border-radius:%?10?%;overflow:hidden;position:relative;background:#fff}.yuan_left[data-v-4c4d2bce]{position:absolute;top:%?184?%;left:%?-10?%;background:#f6f6f6;display:block;height:%?20?%;width:%?20?%;border-radius:%?20?%;z-index:1}.yuan_right[data-v-4c4d2bce]{position:absolute;top:%?184?%;right:%?-10?%;background:#f6f6f6;display:block;height:%?20?%;width:%?20?%;border-radius:%?20?%;z-index:1}.wkk[data-v-4c4d2bce]{position:relative}.wkk_top[data-v-4c4d2bce]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom:%?2?% dashed #e4e4e4;height:%?194?%;-webkit-box-sizing:border-box;box-sizing:border-box}.shujl[data-v-4c4d2bce]{color:#fff;text-align:center;width:30%;overflow-y:hidden;margin:auto}.jiagq[data-v-4c4d2bce]{font-size:%?62?%;font-weight:700;display:block;line-height:%?50?%;text-indent:%?-14?%}.limit_count[data-v-4c4d2bce]{font-size:%?22?%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 %?12?%;border-radius:%?20?%}.qitxx[data-v-4c4d2bce]{padding-left:%?10?%;padding-top:%?28?%;width:70%;-webkit-box-sizing:border-box;box-sizing:border-box}.yhq_t[data-v-4c4d2bce]{font-size:%?28?%;color:#434343;margin-bottom:%?12?%}.xiaozi[data-v-4c4d2bce]{font-size:%?22?%;color:#666}\n/* 已领 % */.lijlq[data-v-4c4d2bce]{position:absolute;right:%?20?%;top:%?34?%;width:%?120?%;text-align:center}.lijlq_num[data-v-4c4d2bce]{font-size:%?22?%;margin-bottom:%?10?%}\n/* 适用品类 */.include_types[data-v-4c4d2bce]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:%?20?%;font-size:%?22?%}.include_items[data-v-4c4d2bce]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:82%;-webkit-box-sizing:border-box;box-sizing:border-box;padding-right:%?60?%;padding-top:%?10?%;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}.include_words[data-v-4c4d2bce]{width:96%}.include_words_no[data-v-4c4d2bce]{white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.include_items .iconfont[data-v-4c4d2bce]{font-size:%?24?%;margin-left:%?20?%}\n/* 领取按钮 */.ljlq[data-v-4c4d2bce]{font-size:%?22?%;color:#fff;border-radius:%?50?%;width:%?124?%;height:%?50?%;line-height:%?50?%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0}.ljlq2[data-v-4c4d2bce]:after,.ljlq[data-v-4c4d2bce]:after{border:none}.ljlq2[data-v-4c4d2bce]{font-size:%?22?%;background-color:#ccc;color:#fff;width:%?124?%;height:%?50?%;line-height:%?50?%;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:%?50?%;padding:0}.pageno_address[data-v-4c4d2bce]{display:block;margin:%?200?% auto %?60?%;width:%?280?%;height:%?190?%}",""])},e57c:function(e,t,i){"use strict";i.r(t);var s=i("6650"),n=i.n(s);for(var o in s)"default"!==o&&function(e){i.d(t,e,function(){return s[e]})}(o);t["default"]=n.a}}]);