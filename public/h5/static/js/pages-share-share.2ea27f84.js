(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-share-share"],{"224b":function(t,i,e){"use strict";e.r(i);var n=e("a849"),a=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(i,t,function(){return n[t]})}(s);i["default"]=a.a},"36aa":function(t,i,e){var n=e("36f6");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("49ebe107",n,!0,{sourceMap:!1,shadowMode:!1})},"36f6":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,"uni-page-body[data-v-2463b083]{background-color:#fff;height:100%}.skde[data-v-2463b083]{width:100%;height:%?700?%}.lldi[data-v-2463b083]{width:100%}.slid[data-v-2463b083]{width:70%;margin:%?10?% auto %?40?%;border-radius:%?6?%;height:%?80?%;line-height:%?80?%}.ss[data-v-2463b083]{background-color:#08c303;color:#fff;font-size:%?26?%}.ss[data-v-2463b083]:after{border:none}.cpid[data-v-2463b083]{width:100%;height:%?800?%}.llsdk[data-v-2463b083]{width:100%;background-color:#fff}.lldik[data-v-2463b083]{display:inline-block;text-align:center;width:50%}.shuifx[data-v-2463b083]{display:inline-block;text-align:right;width:40%;vertical-align:top;padding-right:10%;line-height:%?60?%;font-size:%?30?%}.tupkdl[data-v-2463b083]{width:%?240?%;height:%?240?%}body.?%PAGE?%[data-v-2463b083]{background-color:#fff}",""])},"51b9":function(t,i,e){"use strict";e.r(i);var n=e("f517"),a=e("224b");for(var s in a)"default"!==s&&function(t){e.d(i,t,function(){return a[t]})}(s);e("f30d");var o=e("2877"),l=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"2463b083",null);i["default"]=l.exports},a849:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("7f7f");var n=e("2c90"),a={data:function(){return{thumbimg:"",baseinfo:"",pwidth:"",pheight:"",wheight:"",pixelRatio:"",imgwidth:"",imgheight:"",heigts:""}},onLoad:function(){this._baseMin(this);var t=this;uni.setNavigationBarTitle({title:"二维码生成"}),uni.showLoading({title:"二维码生成中"}),uni.getSystemInfo({success:function(i){t.pwidth=i.screenWidth,t.pheight=i.windowHeight,t.wheight=i.windowHeight,t.pixelRatio=i.pixelRatio}});var i=0;n.h5login(i,function(){t.getewm()})},methods:{getewm:function(){var t=this;uni.showLoading({title:"二维码生成中"});var i=uni.getStorageSync("suid"),e="fenxiao";uni.request({url:t.$baseurl+"dopagefxshareewm",data:{uniacid:t.$uniacid,suid:i,source:uni.getStorageSync("source"),pageUrl:e},success:function(i){if(uni.showLoading({title:"二维码生成中"}),0==i.data.data.error){var e=i.data.data.url;uni.getImageInfo({src:e,success:function(i){var e=i.path;t.jibxx(e)},fail:function(){uni.hideLoading(),uni.showModal({title:"提示",showCancel:!1,content:"二维码生成失败，请稍后再试",success:function(t){}})}})}else uni.hideLoading(),uni.showModal({title:"提示",showCancel:!1,content:"二维码生成失败，请稍后再试",success:function(t){}})}})},jibxx:function(t){var i=this;uni.showLoading({title:"二维码生成中"});var e=2;uni.request({url:i.$baseurl+"dopageshareguiz",data:{uniacid:i.$uniacid},success:function(n){uni.showLoading({title:"二维码生成中"});var a=n.data.data;i.thumbimg=a,uni.getImageInfo({src:a,success:function(n){uni.showLoading({title:"二维码生成中"});var a=n.width,s=n.height;i.imgwidth=a,i.imgheight=s;var o=n.path;i.saveimg(o,t,e)},fail:function(){uni.hideLoading(),uni.showModal({title:"提示",showCancel:!1,content:"二维码生成失败，请稍后再试",success:function(t){}})}})}})},saveimg:function(t,i,e){uni.showLoading({title:"二维码生成中"});var n=this,a=n.baseinfo,s="<更多内容小程序内查看>",o="长按识别小程序码访问",l=a.name,u="",d=uni.createCanvasContext("myCanvas"),c=n.imgwidth,h=n.imgheight,r=n.pwidth,f=n.pheight,g=e;d.setFillStyle("#ffffff"),f<600?d.fillRect(0,0,r,r+140):d.fillRect(0,0,r,r+160);var v=r*h/c;if(n.heigts=v+180,d.drawImage(t,0,0,r,v),1==e){var w=n.pro,b=w.title,p=w.price;d.setFillStyle("#333333"),d.setFontSize(14),d.setTextAlign("left");var m=b;if(d.fillText(m,10,v+30),"showArt"==g||"showPic"==g){var x="";d.fillText(x,r-10,v+30)}else{d.setFillStyle("#E7142F"),d.setFontSize(14),d.setTextAlign("right");x="¥"+p;d.fillText(x,r-10,v+30)}}2==e&&(d.setFillStyle("#333333"),d.setFontSize(14),d.setTextAlign("center"),d.fillText(s,r/2,v+30)),d.setStrokeStyle("#dedede"),d.moveTo(10,v+45),d.lineTo(r-10,v+45),d.stroke(),d.setFillStyle("#666666"),f<600?d.setFontSize(16):d.setFontSize(18),d.setTextAlign("left"),d.fillText(o,10,v+80),d.setFillStyle("#666666"),d.setFontSize(14),d.setTextAlign("left"),d.fillText(l,10,v+110),d.setFillStyle("#000000"),d.setFontSize(14),d.setTextAlign("left"),d.fillText(u,80,495),f<600?d.drawImage(i,r-100,v+60,80,80):d.drawImage(i,r-120,v+60,100,100),d.draw(),uni.hideLoading()},saveimgdo:function(){var t=this;uni.getSetting({success:function(i){i.authSetting["scope.writePhotosAlbum"]?t.dosave():uni.authorize({scope:"scope.writePhotosAlbum",success:function(){t.dosave()},fail:function(){wx.openSetting()}})}})},dosave:function(){var t=this,i=t.pwidth,e=t.heigts,n=t.pixelRatio;uni.canvasToTempFilePath({x:0,y:0,width:i,height:e,destWidth:i*n,destHeight:e*n,canvasId:"myCanvas",success:function(t){uni.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(t){uni.showModal({title:"提醒",content:"保存成功！",showCancel:!1,success:function(t){uni.navigateBack({delta:1})}})},fail:function(t){}})}})}}};i.default=a},f30d:function(t,i,e){"use strict";var n=e("36aa"),a=e.n(n);a.a},f517:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",[e("v-uni-canvas",{style:{width:"100%",height:t.heigts+"px",left:0,top:0,"z-index":100,background:"#fff"},attrs:{"canvas-id":"myCanvas"}})],1),e("v-uni-view",{staticClass:"lldi"},[e("v-uni-button",{staticClass:"slid ss",on:{click:function(i){i=t.$handleEvent(i),t.saveimgdo(i)}}},[t._v("保存图片，并可分享图片")])],1)],1)},a=[];e.d(i,"a",function(){return n}),e.d(i,"b",function(){return a})}}]);