(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesBargain-bargain_pro-bargain_pro"],{"028e":function(i,t,e){"use strict";var a=function(){var i=this,t=i.$createElement,e=i._self._c||t;return i.$imgurl?e("div",[i.needAuth?e("auth",{attrs:{needAuth:i.needAuth},on:{closeAuth:function(t){t=i.$handleEvent(t),i.closeAuth(t)},cell:function(t){t=i.$handleEvent(t),i.cell(t)}}}):i._e(),i.needBind?e("bindPhone",{attrs:{needBind:i.needBind},on:{closeBind:function(t){t=i.$handleEvent(t),i.closeBind(t)}}}):i._e(),e("v-uni-view",{staticClass:"pro_head"},[e("v-uni-view",{staticClass:"wrap",style:"height:"+i.minHeight+"px;"},[e("v-uni-swiper",{staticClass:"slide",staticStyle:{height:"100%"},attrs:{"indicator-active-color":i.baseinfo.base_color2,interval:"3000",duration:"1000",autoplay:i.autoplay,"indicator-color":"rgba(0, 0, 0, .3)"},on:{change:function(t){t=i.$handleEvent(t),i.swiperChange(t)}}},[i._l(i.proInfo["masterThumb"],function(t,a){return[e("v-uni-swiper-item",[e("v-uni-image",{staticClass:"slide-image",attrs:{src:t,width:"100%",mode:"widthFix"},on:{load:function(t){t=i.$handleEvent(t),i.swiperLoad(t)}}}),!i.isplay&&i.pic_video&&0==a?e("v-uni-view",[e("v-uni-image",{staticClass:"play-image",attrs:{src:i.$imgurl+"play_audio.png",mode:"aspectFill"},on:{click:function(t){t=i.$handleEvent(t),i.playvideo(t)}}})],1):i._e(),i.isplay?e("v-uni-view",{staticStyle:{height:"100%"}},[e("v-uni-image",{staticClass:"play-image1",attrs:{src:i.$imgurl+"c.png",mode:"widthFix"},on:{click:function(t){t=i.$handleEvent(t),i.endvideo(t)}}}),e("v-uni-video",{staticStyle:{margin:"0",height:"100%",width:"100%",overflow:"hidden"},attrs:{src:i.pic_video,objectFit:"cover",autoplay:"true"}})],1):i._e()],1)]})],2),i.isplay?i._e():e("v-uni-view",{staticClass:"dots hbj",style:{width:14*(i.dlength-1)+14*i.dlength+"rpx"}},[i._l(i.proInfo["masterThumb"],function(t,a){return[e("v-uni-view",{key:a+"_0",staticClass:"dot",class:a==i.currentSwiper?" active":""})]})],2)],1)],1),e("v-uni-view",{staticClass:"pro_title"},[e("v-uni-text",[i._v(i._s(i.proInfo["title"]))]),e("v-uni-view",[e("v-uni-view",{style:"color:"+i.baseinfo.base_color2},[e("v-uni-text",[i._v("最低价:")]),e("v-uni-text",[i._v("￥")]),e("v-uni-text",{staticStyle:{"font-size":"32rpx","font-weight":"bold"}},[i._v(i._s(i.proInfo["miniPrice"]))])],1),e("v-uni-view",{staticStyle:{"font-size":"24rpx"}},[i._v("原价："),e("v-uni-text",{staticStyle:{"text-decoration":"line-through"}},[i._v("￥"+i._s(i.proInfo["price"]))])],1)],1),e("v-uni-view",{staticStyle:{"margin-top":"20rpx"}},[e("v-uni-view",{staticStyle:{"font-size":"24rpx"}},[i._v("库存："+i._s(i.proInfo["kc"]))]),e("v-uni-view",{staticStyle:{"font-size":"24rpx"}},[i._v("已有"+i._s(i.proInfo["bargained_num"])+"人成功购买")])],1),1==i.baseinfo.share_open?[e("v-uni-view",{staticClass:"share",on:{click:function(t){t=i.$handleEvent(t),i.open_share(t)}}},[e("v-uni-image",{attrs:{src:i.$imgurl+"btn_share.png"}})],1)]:i._e()],2),i.proInfo["labels"].length>0?e("v-uni-view",{staticClass:"ticket"},i._l(i.proInfo["labels"],function(t,a){return e("v-uni-view",{key:a,staticClass:"iconfont icon-x-dui",style:"border: 2rpx solid "+i.baseinfo.base_color2+";color: "+i.baseinfo.base_color2},[e("v-uni-text",[i._v(i._s(t))])],1)}),1):i._e(),i.proInfo["bargain_id"]>0?e("v-uni-view",{staticClass:"pro_progress"},[e("v-uni-view",{staticClass:"process_title",staticStyle:{position:"relative"}},[i._v("砍价进度"),e("v-uni-view",{staticClass:"bargain_title2"},[i._l(i.bargainCt,function(t,a){return e("v-uni-view",{key:a,staticClass:"time"},[i._v(i._s("00"!=t.day?t.day+"天":"")+i._s(t.hou)+":"+i._s(t.min)+":"+i._s(t.sec))])}),e("v-uni-text",[i._v("后结束")])],2)],1),e("v-uni-view",{staticClass:"progress_price"},[e("v-uni-view",[e("v-uni-text",[i._v("原价：")]),e("v-uni-text",[i._v("￥"+i._s(i.proInfo["price"]))])],1),e("v-uni-view",[e("v-uni-text",[i._v("当前价：")]),e("v-uni-text",{staticStyle:{"font-size":"32rpx",color:"red","font-weight":"bold"}},[i._v("￥"+i._s(i.proInfo["nowPrice"]))])],1),e("v-uni-view",[e("v-uni-text",[i._v("底价：")]),e("v-uni-text",[i._v("￥"+i._s(i.proInfo["miniPrice"]))])],1)],1),e("v-uni-view",{staticStyle:{margin:"40rpx auto 20rpx"}},[e("v-uni-progress",{attrs:{percent:i.proInfo["percent"],"show-info":"true",color:"red","stroke-width":"14",activeColor:"red",backgroundColor:"f0f0f0","border-radius":"20","font-size":"14"}})],1),e("v-uni-view",{staticClass:"friend"},[i._l(i.proInfo["receive"],function(t,a){return e("v-uni-view",{key:a},[e("v-uni-image",{attrs:{src:t.avatar}}),e("v-uni-text",[i._v("小刀一挥帮忙砍掉了")]),e("v-uni-text",{staticStyle:{color:"red",margin:"0 10rpx"}},[i._v(i._s(t.price))]),e("v-uni-text",[i._v("元")])],1)}),e("v-uni-view",{staticClass:"more",staticStyle:{position:"absolute",bottom:"0rpx",margin:"auto"},on:{click:function(t){t=i.$handleEvent(t),i.goActivity(t)}}},[i._v("更多"),e("v-uni-image",{staticStyle:{width:"20rpx",height:"20rpx"},attrs:{src:i.$imgurl+"bargain_u_r.png"}})],1)],2)],1):i._e(),e("v-uni-view",{staticClass:"pro_process"},[e("v-uni-view",{staticClass:"process_title"},[i._v("砍价流程")]),e("v-uni-view",{staticClass:"process_foot"},i._l(i.processData,function(t,a){return e("v-uni-view",{key:a,staticClass:"process_wrap",attrs:{"data-id":t.id}},[e("v-uni-view",{staticClass:"process"},[1!=t.id?e("v-uni-view",{staticClass:"process_line"}):i._e(),e("v-uni-image",{attrs:{src:i.$imgurl+"ad"+(a+1)+".png"}}),4!=t.id?e("v-uni-view",{staticClass:"process_line"}):i._e()],1),e("v-uni-text",{staticClass:"process_name",class:t.id<=i.state?"color-2598e7":""},[i._v(i._s(t.name))])],1)}),1)],1),e("v-uni-view",{staticClass:"pro_detail"},[e("v-uni-view",{staticClass:"detail_title"},[i._v("商品详情")]),e("v-uni-view",{staticClass:"texts"},[e("v-uni-rich-text",{attrs:{nodes:i.texts}})],1)],1),e("v-uni-view",{staticClass:"pro_footer_bg"}),e("v-uni-view",{staticClass:"bargain_footer"},[e("v-uni-button",{staticClass:"btn1",style:"background-color: "+i.baseinfo.tabbar_bg3,on:{click:function(t){t=i.$handleEvent(t),i.createOrder(t)}}},[e("v-uni-icon",{staticClass:"iconfont icon-x-gwc1",staticStyle:{width:"20px","margin-right":"0"}}),i._v("立即购买")],1),0==i.proInfo["bargain_id"]?e("v-uni-button",{staticClass:"btn2",style:"background-color: "+i.baseinfo.base_color2,on:{click:function(t){t=i.$handleEvent(t),i.goActivity(t)}}},[i._v("发起砍价")]):i._e(),i.proInfo["bargain_id"]>0?e("v-uni-button",{staticClass:"btn2",style:"background-color: "+i.baseinfo.base_color2,on:{click:function(t){t=i.$handleEvent(t),i.goActivity(t)}}},[i._v("找人帮砍")]):i._e()],1),1==i.share?e("v-uni-view",{staticClass:"mask",on:{click:function(t){t=i.$handleEvent(t),i.share_close(t)}}}):i._e(),1==i.share?e("v-uni-view",{staticClass:"share_ceng",style:{"z-index":1==i.shareimg?"800":1e3}},[e("v-uni-view",{staticClass:"share_con"},[e("v-uni-view",[e("v-uni-button",{attrs:{"open-type":"share"},on:{click:function(t){t=i.$handleEvent(t),i.h5ShareAppMessage(t)}}},[e("v-uni-image",{attrs:{src:i.$imgurl+"wx_tui.png"}}),e("v-uni-view",[i._v("分享给好友")])],1)],1),e("v-uni-view",[e("v-uni-view",{staticClass:"shareimg",on:{click:function(t){t=i.$handleEvent(t),i.getShareImg(t)}}},[e("v-uni-image",{attrs:{src:i.$imgurl+"btn_haibao.png"}}),e("v-uni-view",[i._v("生成分享海报")])],1)],1)],1)],1):i._e(),1==i.shareimg?e("v-uni-view",{staticClass:"fx_box",style:{width:i.img_w+20+"px",height:i.img_h+25+"px",left:(i.system_w-i.img_w-10)/2+"px"}},[e("v-uni-view",{staticClass:"fx_close"},[e("v-uni-view",{staticClass:"fx_X",on:{click:function(t){t=i.$handleEvent(t),i.closeShare(t)}}},[i._v("x")]),e("v-uni-view",{staticClass:"fx_content"},[e("img",{staticClass:"haibao_img",style:{width:i.img_w+"px",height:i.img_h+"px"},attrs:{src:i.shareimg_url}})]),e("v-uni-view",{staticClass:"haibao_tishi",attrs:{type:"primary"}},[i._v("*长按图片保存*")])],1)],1):i._e()],1):i._e()},n=[];e.d(t,"a",function(){return a}),e.d(t,"b",function(){return n})},"13a9":function(i,t,e){"use strict";e.r(t);var a=e("afe0"),n=e.n(a);for(var o in a)"default"!==o&&function(i){e.d(t,i,function(){return a[i]})}(o);t["default"]=n.a},"1b7a":function(i,t,e){"use strict";e.r(t);var a=e("028e"),n=e("13a9");for(var o in n)"default"!==o&&function(i){e.d(t,i,function(){return n[i]})}(o);e("45c1");var r=e("2877"),s=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"2731cdd0",null);t["default"]=s.exports},3709:function(i,t,e){t=i.exports=e("2350")(!1),t.push([i.i,".pro-container[data-v-2731cdd0]{\n\t/* font-size: 0;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 92rpx;\n\toverflow-y: scroll;\n\toverflow-x: hidden; */}[data-v-2731cdd0]::-webkit-scrollbar{width:0;height:0;color:rgba(0,0,0,0)}.pro_head[data-v-2731cdd0]{position:relative;overflow:hidden}uni-swiper[data-v-2731cdd0]{width:100vw;height:%?500?%}uni-swiper-item uni-image[data-v-2731cdd0]{width:100%;height:100%}uni-swiper-item[data-v-2731cdd0]{width:100%;height:100%}.tui-countdown-content[data-v-2731cdd0]{height:%?46?%;line-height:%?46?%;text-align:center;background-color:red;font-size:%?20?%;color:#fff;border-radius:%?46?%;width:%?334?%;position:absolute;top:%?320?%;right:%?-20?%}.tui-conutdown-box[data-v-2731cdd0]{display:inline-block;height:%?32?%;line-height:%?32?%;text-align:center;background-color:#fff;color:red;margin:0 %?6?%;padding:0 %?2?%}.pro_title[data-v-2731cdd0]{background-color:#fff;padding:%?30?%;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative}.pro_title>uni-text[data-v-2731cdd0]{color:#333;font-size:%?30?%;font-weight:700;width:%?622?%;display:inline-block}.pro_title>uni-view>uni-view[data-v-2731cdd0]{font-size:%?26?%;color:#666;display:inline-block;margin-right:%?30?%}.share[data-v-2731cdd0]{position:absolute;top:%?30?%;right:%?30?%;text-align:center}.share>uni-image[data-v-2731cdd0]{width:%?40?%;height:%?40?%;display:block}.ticket[data-v-2731cdd0]{padding:%?20?% %?30?% %?10?%;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#fff;margin:%?14?% auto}.ticket>uni-view[data-v-2731cdd0]{padding:%?10?% %?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:%?20?%;border-radius:%?34?%;display:inline-block;margin:0 %?20?% %?10?% 0}.ticket>uni-view>uni-text[data-v-2731cdd0]{margin-left:%?10?%}.pro_process[data-v-2731cdd0]{padding:%?20?% %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#fff;overflow:hidden}.detail_title[data-v-2731cdd0],.process_title[data-v-2731cdd0]{font-size:%?26?%;color:#434343;border-bottom:%?2?% solid #eff3f6;height:%?44?%;line-height:%?30?%}.process_foot[data-v-2731cdd0]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding-left:%?24?%;overflow:visible;width:100%}.process_wrap[data-v-2731cdd0]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:visible}.process_wrap[data-v-2731cdd0]:first-child{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}.process_wrap[data-v-2731cdd0]:nth-child(2){width:%?196?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.process_wrap[data-v-2731cdd0]:nth-child(3){width:%?196?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.process_wrap[data-v-2731cdd0]:last-child{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}.process[data-v-2731cdd0]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:100%;margin:%?20?% 0}.process uni-image[data-v-2731cdd0]{width:%?50?%;height:%?50?%;display:block;-webkit-box-sizing:border-box;box-sizing:border-box}.process_line[data-v-2731cdd0]{width:%?68?%;border:%?1?% dashed #eff3f6}.process_radius2[data-v-2731cdd0]{width:%?2?%;height:%?4?%;background-color:#333;border-radius:%?2?% 0 0 %?2?%}.process_radius1[data-v-2731cdd0]{width:%?2?%;height:%?4?%;background-color:#333;border-radius:0 %?2?% %?2?% 0}.process_name[data-v-2731cdd0]{font-size:%?24?%;color:#c4c4c4}.process_wrap:first-child>.process_name[data-v-2731cdd0]{margin-left:%?-24?%}.process_wrap:last-child>.process_name[data-v-2731cdd0]{margin-left:%?48?%}.pro_detail[data-v-2731cdd0]{padding:%?20?% %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#fff;margin:%?14?% 0}.btn1[data-v-2731cdd0],.btn2[data-v-2731cdd0]{color:#fff;border-radius:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:%?30?%;border:0}.btn1[data-v-2731cdd0]{width:36%}.btn2[data-v-2731cdd0]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.btn1[data-v-2731cdd0]:after,.btn2[data-v-2731cdd0]:after{border-radius:0;border:0}.bargain_footer[data-v-2731cdd0]{position:fixed;left:0;right:0;bottom:0;height:%?92?%;line-height:%?92?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.btn1>uni-icon[data-v-2731cdd0],.btn2>uni-icon[data-v-2731cdd0]{margin-right:%?12?%}.pro_progress[data-v-2731cdd0]{padding:%?20?% %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#fff;margin:%?14?% 0}.progress_price[data-v-2731cdd0]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;margin-top:%?40?%}.progress_price>uni-view[data-v-2731cdd0]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;text-align:center}.progress_price>uni-view>uni-text[data-v-2731cdd0]{font-size:%?26?%;color:#838383}.progress[data-v-2731cdd0]{height:%?32?%;background:#262626;padding:%?10?%;overflow:visible;border-radius:%?40?%;border-top:%?2?% solid #000;border-bottom:%?2?% solid #7992a8;margin-top:%?30?%}.friend[data-v-2731cdd0]{width:90%;padding:%?20?% %?30?% %?80?%;margin:%?20?% auto;-webkit-box-sizing:border-box;box-sizing:border-box;border:%?2?% solid #eee;border-radius:%?10?%;position:relative}.friend>uni-view[data-v-2731cdd0]{height:%?80?%;line-height:%?80?%;width:100%}.friend>uni-view>uni-image[data-v-2731cdd0]{width:%?50?%;height:%?50?%;display:inline-block;vertical-align:middle;border-radius:50%;margin-right:%?20?%}.friend>uni-view>uni-text[data-v-2731cdd0]{vertical-align:middle;font-size:%?26?%;color:#434343}.more[data-v-2731cdd0]{text-align:center;font-size:%?24?%;color:#b9b7b7;margin:auto}.bargain_title2[data-v-2731cdd0]{position:absolute;top:0;right:%?0?%;color:red;overflow:hidden}.time[data-v-2731cdd0]{vertical-align:middle;display:inline-block;overflow:hidden;font-size:%?30?%;font-weight:700;margin-right:%?10?%}.bargain_title2>uni-text[data-v-2731cdd0]{vertical-align:middle;font-size:%?26?%}.texts[data-v-2731cdd0]{font-size:%?24?%}.wrap[data-v-2731cdd0]{max-height:15rem;position:relative}.slide[data-v-2731cdd0]{margin-bottom:0}.slide-image[data-v-2731cdd0]{display:block;position:absolute}.slide .play-image[data-v-2731cdd0]{display:block;width:%?80?%;height:%?80?%;position:absolute;left:0;top:0;right:0;z-index:6000;margin:auto;bottom:%?34?%}.video-width[data-v-2731cdd0]{width:100%;height:283px}.slide .play-image1[data-v-2731cdd0]{display:block;width:%?30?%;height:%?30?%;position:absolute;left:0;top:-216px;right:%?-667?%;bottom:0;z-index:6000;margin:auto}\n\n/*用来包裹所有的小圆点  */.dots[data-v-2731cdd0]{padding:%?10?% %?15?%;position:absolute;margin:auto;left:0;right:0;bottom:%?20?%;text-align:center;background:rgba(0,0,0,.5);border-radius:%?30?%}\n\n/*未选中时的小圆点样式 */.dot[data-v-2731cdd0]{width:%?14?%;height:%?14?%;border-radius:50%;margin-right:%?15?%;background-color:#fff}.dot[data-v-2731cdd0]:last-of-type{margin-right:0}\n\n/*选中以后的小圆点样式  */.active[data-v-2731cdd0]{width:%?14?%;\n\t/* height: 14rpx;   */\n\t/* background-color: #C5C4C3;   */border-bottom:0}.hbj3[data-v-2731cdd0]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}\n\n\n\n.fx_box[data-v-2731cdd0]{z-index:900;position:fixed;top:9%;margin:auto}\n\n.fx_box .fx_close[data-v-2731cdd0]{\n\t/* margin: 45px; */background-color:#fff;width:100%;height:auto;padding-bottom:5px}\n\n/*关闭按钮*/.fx_box .fx_close uni-view[data-v-2731cdd0]{text-decoration:none;color:#2d2c3b}.fx_content[data-v-2731cdd0]{text-align:center;margin:0 5px}.fx_content .haibao_img[data-v-2731cdd0]{border:1px solid #bbb;margin:0 5px 0 5px!important;float:none}.fx_X[data-v-2731cdd0]{text-align:right;margin-right:5px;height:auto;margin-top:-5px}.haibao_btn[data-v-2731cdd0]{font-size:12px;font-size:normal;margin:0 8px}.haibao_tishi[data-v-2731cdd0]{text-align:center;color:#9d9d9d!important}.pro_footer_bg[data-v-2731cdd0]{height:%?90?%}",""])},"45c1":function(i,t,e){"use strict";var a=e("f503"),n=e.n(a);n.a},afe0:function(i,t,e){"use strict";var a=e("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("a481");var n=a(e("e814")),o=e("2c90"),r={data:function(){return{$imgurl:this.$imgurl,swiperCurrent:0,indicatorDots:!0,autoplay:!0,interval:3e3,duration:800,circular:!0,countDownList:[],processData:[{id:1,name:"立即砍价"},{id:2,name:"分享好友"},{id:3,name:"好友帮砍"},{id:4,name:"优惠购买"}],id:0,fxsid:0,proInfo:{masterThumb:[],labels:[]},bargain_id:0,isplay:!1,currentSwiper:0,minHeight:0,baseinfo:[],pic_video:"",state:0,texts:"",bargainCt:[],shareimg:0,share:0,shareimg_url:"",system_w:0,system_h:0,img_w:0,img_h:0,dlength:0,needAuth:!1,needBind:!1}},onPullDownRefresh:function(){var i=this;i.id;i.bargainProInfo(),uni.stopPullDownRefresh()},onLoad:function(i){var t=this;i.id&&(t.id=i.id);var e=0;i.fxsid&&(e=i.fxsid,uni.setStorageSync("fxsid",e),t.fxsid=i.fxsid),t.checkvip(),this._baseMin(this);uni.getStorageSync("suid");o.h5login(e,function(){t.bargainProInfo()}),t.checkvip();var a=uni.getStorageSync("systemInfo");this.img_w=(0,n.default)((.65*a.windowWidth).toFixed(0)),this.img_h=(0,n.default)((1.875*this.img_w).toFixed(0)),this.system_w=(0,n.default)(a.windowWidth),this.system_h=(0,n.default)(a.windowHeight)},onShareAppMessage:function(){var i=this,t=uni.getStorageSync("suid"),e=i.proInfo,a=i.id,n="";return n="/pagesBargain/bargain_pro/bargain_pro?id="+a+"&userid="+t,{title:e.title,path:n,imageUrl:e.shareThumb}},methods:{checkvip:function(i){var t=this,e=uni.getStorageSync("suid");uni.request({url:t.$baseurl+"doPageCheckvip",data:{uniacid:t.$uniacid,kwd:"bargain",suid:e,id:t.id,gz:1},success:function(i){if(!1===i.data.data)return t.needvip=!0,uni.showModal({title:"进入失败",content:"使用本功能需先开通vip!",showCancel:!1,success:function(i){i.confirm&&uni.redirectTo({url:"/pages/register/register"})}}),!1;i.data.data.needgrade>0&&(t.needvip=!0,i.data.data.grade>0?i.data.data.grade<i.data.data.needgrade&&uni.showModal({title:"进入失败",content:"使用本功能需成为"+i.data.data.vipname+"("+i.data.data.needgrade+"级)以上等级会员,请先升级!",showCancel:!1,success:function(i){i.confirm&&uni.redirectTo({url:"/pages/open1/open1"})}}):i.data.data.grade<i.data.data.needgrade&&uni.showModal({title:"进入失败",content:"使用本功能需成为"+i.data.data.vipname+"("+i.data.data.needgrade+"级)以上等级会员,请先开通会员后再升级会员等级!",showCancel:!1,success:function(i){i.confirm&&uni.redirectTo({url:"/pages/register/register"})}}))},fail:function(i){}})},bargainProInfo:function(){var i=this;uni.request({url:i.$baseurl+"doPageBargainProInfo",data:{uniacid:i.$uniacid,id:i.id,openid:i.openid,suid:uni.getStorageSync("suid"),source:uni.getStorageSync("source")},success:function(t){1==t.data.data.active_flag&&0==t.data.data.overtime&&uni.showModal({title:"提示",content:"该商品已下架，请选择其他商品进行砍价",showCancel:!1,success:function(){uni.navigateBack({deltal:9}),uni.navigateTo({url:"/pagesBargain/bargain/bargain"})}}),uni.setNavigationBarTitle({title:t.data.data.title});var e=t.data.data.activeEndTime,a=t.data.data.overtime;i.pic_video=t.data.data.video,i.proInfo=t.data.data,i.texts=t.data.data.texts,i.texts&&(i.texts=i.texts.replace(/\<img/gi,'<img style="width:100%;height:auto" ')),i.activeEndTime=e,i.bargain_id=t.data.data.bargain_id,i.bargainEndTime=a,i.dlength=i.proInfo.masterThumb.length,i.countDown(),i.countDown1()}})},timeFormat:function(i){return i<10?"0"+i:i},countDown:function(){var i=(new Date).getTime(),t=1e3*this.activeEndTime,e=[],a=null;if(t-i>0){var o=(t-i)/1e3,r=(0,n.default)(o/86400),s=(0,n.default)(o%86400/3600),d=(0,n.default)(o%86400%3600/60),c=(0,n.default)(o%86400%3600%60);a={day:this.timeFormat(r),hou:this.timeFormat(s),min:this.timeFormat(d),sec:this.timeFormat(c)}}else a={day:"00",hou:"00",min:"00",sec:"00"};e.push(a),this.countDownList=e,setTimeout(this.countDown,1e3)},countDown1:function(){var i=(new Date).getTime(),t=1e3*this.bargainEndTime,e=[],a=null;if(t-i>0){var o=(t-i)/1e3,r=(0,n.default)(o/86400),s=(0,n.default)(o%86400/3600),d=(0,n.default)(o%86400%3600/60),c=(0,n.default)(o%86400%3600%60);a={day:this.timeFormat(r),hou:this.timeFormat(s),min:this.timeFormat(d),sec:this.timeFormat(c)}}else a={day:"00",hou:"00",min:"00",sec:"00"};e.push(a),this.bargainCt=e,setTimeout(this.countDown1,1e3)},goActivity:function(){if(!this.getSuid())return!1;var i=this;uni.navigateTo({url:"/pagesBargain/bargain_activity/bargain_activity?bargain_id="+i.bargain_id+"&id="+i.id})},cell:function(){this.needAuth=!1},closeAuth:function(){this.needAuth=!1,this.needBind=!0},closeBind:function(){this.needBind=!1},getSuid:function(){var i=uni.getStorageSync("suid");if(i)return!0;var t="";return t?this.needBind=!0:this.needAuth=!0,!1},createOrder:function(i){if(!this.getSuid())return!1;uni.redirectTo({url:"/pagesBargain/bargain_order/bargain_order?id="+this.id})},swiperLoad:function(i){var t=this;uni.getSystemInfo({success:function(e){var a=i.detail.width,n=i.detail.height,o=a/n,r=e.windowWidth/o;t.heighthave||(t.minHeight=r,t.heighthave=1)}})},swiperChange:function(i){this.currentSwiper=i.detail.current,this.isplay=!1,this.autoplay=!0},playvideo:function(){var i=this;i.isplay=!0,i.autoplay=!1},endvideo:function(){var i=this;i.autoplay=!0,i.isplay=!1},open_share:function(){this.share=1},share_close:function(){this.share=0,this.shareimg=0},h5ShareAppMessage:function(){var i=this,t=uni.getStorageSync("suid");uni.showModal({title:"长按复制链接后分享",content:this.$host+"/h5/index.html?id="+this.$uniacid+"#/pagesBargain/bargain_pro/bargain_pro?id="+this.id+"&fxsid="+t+"&userid="+t,showCancel:!1,success:function(t){i.share=0}})},getShareImg:function(){uni.showLoading({title:"海报生成中"});var i=this;uni.request({url:i.$baseurl+"dopageshareewm",data:{uniacid:i.$uniacid,suid:uni.getStorageSync("suid"),gid:i.id,types:"bargain",source:uni.getStorageSync("source"),pageUrl:"bargain_pro"},success:function(t){uni.hideLoading(),0==t.data.data.error?(i.shareimg=1,i.shareimg_url=t.data.data.url):uni.showToast({title:t.data.data.msg,icon:"none"})}})},closeShare:function(){this.shareimg=0},saveImg:function(){var i=this;uni.getImageInfo({src:i.shareimg_url,success:function(t){uni.saveImageToPhotosAlbum({filePath:t.path,success:function(){uni.showToast({title:"保存成功！",icon:"none"}),i.shareimg=0,i.share=0}})}})},aliSaveImg:function(){var i=this;uni.getImageInfo({src:i.shareimg_url,success:function(t){my.saveImage({url:t.path,showActionSheet:!0,success:function(){my.alert({title:"保存成功"}),i.shareimg=0,i.share=0}})}})}}};t.default=r},f503:function(i,t,e){var a=e("3709");"string"===typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);var n=e("4f06").default;n("20200bd4",a,!0,{sourceMap:!1,shadowMode:!1})}}]);