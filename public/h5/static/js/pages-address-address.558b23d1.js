(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-address-address"],{"120d":function(e,i,t){"use strict";var a=t("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var d=a(t("abbd")),s=t("55f5"),n=t("48d4"),o=t("a7db"),r=t("80a1"),c={components:{wPicker:d.default},data:function(){return{$imgurl:this.$imgurl,baseinfo:"",address_is:1,moren:0,choose:0,id:0,choose_h:0,h:0,addressinfo:{},myaddress:"",needAuth:!1,needBind:!1,region:["北京市","北京市","东城区"],tabList:[{mode:"region",name:"省市区",value:[0,0,0]}],defaultVal:[0,0,0],add_id:0,shop_id:0,from_gwc:0,nav:1,changeAdd:0,is_checked:"",kuaidi:""}},onLoad:function(e){var i=this,t=e.shareid;void 0!=t&&"undefined"!=t&&(this.shareid=t);var a=e.orderid;void 0!=a&&"undefined"!=a&&(this.orderid=a);var d=e.pid;void 0!=d&&"undefined"!=d&&(this.pid=d);var n=e.add_id;void 0!=n&&"undefined"!=n&&(this.add_id=n);var o=e.from_gwc;void 0!=o&&"undefined"!=o&&(this.from_gwc=o);var r=e.shop_id;r&&(this.shop_id=r);var c=e.nav;c&&(this.nav=c);var u=e.discounts;void 0!=u&&(this.discounts=u);var l=0;e.fxsid&&(l=e.fxsid,this.fxsid=l);var f=e.kuaidi;void 0!=f&&(this.kuaidi=f);var h=this;uni.getSystemInfo({success:function(e){h.choose_h=e.windowHeight,h.h=e.windowHeight-60}}),this._baseMin(this);uni.getStorageSync("suid");s.h5login(l,function(){i.getMyAddress()})},computed:{mode:function(){return this.tabList[0].mode}},methods:{input_name:function(e){var i=e.detail.value,t=this.addressinfo;t["name"]=i,this.addressinfo=t},input_mobile:function(e){var i=e.detail.value,t=this.addressinfo;t["mobile"]=i,this.addressinfo=t},input_address:function(e){var i=e.detail.value,t=this.addressinfo;t["more_address"]=i,this.addressinfo=t},toggleTab:function(){this.$refs.picker.show()},onConfirm:function(e){var i=e.checkArr;this.region=[i[0],i[1],i[2]]},cell:function(){this.needAuth=!1},closeAuth:function(){this.needAuth=!1,this.needBind=!0},closeBind:function(){this.needBind=!1,this.getMyAddress()},getSuid:function(){var e=uni.getStorageSync("suid");if(e)return!0;var i="";return i?this.needBind=!0:this.needAuth=!0,!1},getMyAddress:function(){var e=this,i=uni.getStorageSync("suid");uni.request({url:this.$baseurl+"doPagegetallmyaddress",data:{uniacid:this.$uniacid,suid:i},success:function(i){e.myaddress=i.data.data,e.myaddress.length>0?e.address_is=1:e.address_is=0}})},add_address:function(e){var i=this;if(!this.getSuid())return!1;var t=e.currentTarget.dataset.id;if(this.id=t,t){var a=uni.getStorageSync("suid");uni.request({url:this.$baseurl+"doPagegetaddressdetail",data:{uniacid:this.$uniacid,suid:a,id:t},success:function(e){if(e.data.data){i.addressinfo=e.data.data;var t=e.data.data.region;i.region=e.data.data.region;for(var a=n.default,d=o.default,s=r.default,c=[],u=0;u<a.length;u++)if(a[u]["label"]==t[0]){c.push(u);break}d=d[c[0]];for(u=0;u<d.length;u++)if(d[u]["label"]==t[1]){c.push(u);break}s=s[c[0]][c[1]];for(u=0;u<s.length;u++)if(s[u]["label"]==t[2]){c.push(u);break}i.defaultVal=c,i.changeAdd=1,i.choose=1,i.is_mo=e.data.data.is_mo,1==i.is_mo?i.is_checked=!1:i.is_checked=!0}}})}else this.addressinfo={},this.region=["北京市","北京市","东城区"],this.changeAdd=0,this.choose=1,this.is_mo=1},switchChange:function(){0==this.is_checked?this.is_checked=!0:this.is_checked=!1},choose_close:function(){this.choose=0,this.is_checked=!1},formSubmit:function(e){var i=this,t=this.id,a=e.detail.value,d=this.region,s=a.realname,n=a.mobile,o=a.postalcode,r=d[0]+" "+d[1]+" "+d[2],c=a.more_address,u=this.is_checked?1:0,l=uni.getStorageSync("suid"),f=/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(16[0-9]{1})|(17[0-9]{1})|(18[0-9]{1})|(19[0-9]{1}))+\d{8})$/;if(!f.test(n))return uni.showModal({title:"提醒",content:"请输入有效的手机号码！",showCancel:!1}),!1;uni.request({url:this.$baseurl+"doPageaddmyaddress",data:{uniacid:this.$uniacid,id:t,suid:l,name:s,mobile:n,address:r,more_address:c,postalcode:o,froms:"selfadd",is_checked:u},success:function(e){i.id=0,uni.showToast({title:"更新/新建成功",icon:"success"}),i.getMyAddress(),i.choose_close()}})},deladdress:function(e){var i=e.currentTarget.dataset.id,t=this;uni.showModal({content:"确定要删除吗",success:function(e){e.confirm&&uni.request({url:t.$baseurl+"doPagedelmyaddress",data:{uniacid:t.$uniacid,id:i},success:function(e){uni.showToast({title:"删除成功",icon:"success"}),t.getMyAddress()}})}})},moren_set:function(e){var i=this,t=e.currentTarget.dataset.id,a=uni.getStorageSync("suid");uni.request({url:this.$baseurl+"doPagesetdefaultaddress",data:{suid:a,id:t},success:function(e){i.getMyAddress()}})},bindRegionChange:function(e){this.region=e.detail.value},xuanzaddress:function(e){var i=this,t=e.currentTarget.dataset.id,a=getCurrentPages();if(a.length>1){var d=a[a.length-2].route;uni.redirectTo({url:"/"+d+"?addressid="+t+"&shareid="+i.shareid+"&id="+i.pid+"&orderid="+i.orderid+"&discounts="+i.discounts+"&add_id="+t+"&nav="+this.nav+"&from_gwc="+this.from_gwc+"&shop_id="+this.shop_id+"&kuaidi="+i.kuaidi})}},wx_address:function(){var e=this,i=uni.getStorageSync("suid");uni.chooseAddress({success:function(t){var a=t.provinceName+" "+t.cityName+" "+t.countyName,d=t.detailInfo,s=t.userName,n=t.telNumber,o=t.postalCode;uni.request({url:e.$baseurl+"doPageaddmyaddress",data:{uniacid:e.$uniacid,suid:i,name:s,mobile:n,address:a,more_address:d,postalcode:o,froms:"weixin"},success:function(i){e.getMyAddress()}})}})}}};i.default=c},"1d65":function(e,i,t){"use strict";t.r(i);var a=t("120d"),d=t.n(a);for(var s in a)"default"!==s&&function(e){t.d(i,e,function(){return a[e]})}(s);i["default"]=d.a},"205b":function(e,i,t){i=e.exports=t("2350")(!1),i.push([e.i,"uni-page-body[data-v-5a6d269f]{padding-bottom:%?114?%;color:#454545;font-size:%?28?%}.pageno_address[data-v-5a6d269f]{display:block;margin:%?200?% auto %?60?%;width:%?280?%;height:%?140?%}.b-fff[data-v-5a6d269f]{background:#fff}.flex-row[data-v-5a6d269f]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.flex_bflow[data-v-5a6d269f]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:%?20?% 0;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.color-e43656[data-v-5a6d269f]{color:#e43656}.mb20[data-v-5a6d269f]{margin-bottom:%?20?%}.mb10[data-v-5a6d269f]{margin-bottom:%?10?%}.mr10[data-v-5a6d269f]{margin-right:%?10?%}.mr30[data-v-5a6d269f]{margin-right:%?30?%}.pd10[data-v-5a6d269f]{padding:%?10?%}.pd1020[data-v-5a6d269f]{padding:%?20?% %?10?% 0}.flex-shu-center[data-v-5a6d269f]{-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.flex-between[data-v-5a6d269f]{-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}uni-scroll-view[data-v-5a6d269f]{padding:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box}.list[data-v-5a6d269f]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background:#fff;margin-bottom:%?20?%;padding:0 %?20?% %?20?%;border-radius:%?10?%}.foot[data-v-5a6d269f]{height:%?120?%;color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;position:fixed;left:0;bottom:0;width:100%;font-size:%?28?%;padding:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box}.foot>uni-view[data-v-5a6d269f]{text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.foot>uni-view[data-v-5a6d269f]:first-child{border-radius:%?80?% 0 0 %?80?%}.foot>uni-view[data-v-5a6d269f]:nth-child(2){border-radius:0 %?80?% %?80?% 0}.foot uni-image[data-v-5a6d269f]{margin-right:%?10?%}.choose[data-v-5a6d269f]{width:100%;position:fixed;top:0;left:0;background:rgba(0,0,0,.6);z-index:100;font-size:%?28?%}.choose1[data-v-5a6d269f]{width:100%;position:fixed;top:%?88?%;left:0;background:rgba(0,0,0,.7);z-index:100;font-size:%?28?%}.address_change[data-v-5a6d269f]{position:relative;text-align:center;font-size:%?30?%;margin-bottom:%?40?%}.icon_close[data-v-5a6d269f]{position:absolute;top:0;right:0}.choose .address_input[data-v-5a6d269f]{width:100%;background:#fff;position:fixed;bottom:0;left:0;border-radius:%?20?% %?20?% 0 0;padding:%?20?% %?40?%;-webkit-box-sizing:border-box;box-sizing:border-box}.choose .address_input>uni-view .type[data-v-5a6d269f]{width:%?140?%;margin-right:%?20?%;color:#232323}.choose .address_input>uni-view uni-input[data-v-5a6d269f]{height:auto;margin:0;padding:0;border:0;width:%?460?%;text-align:right}.choose1 .address_input[data-v-5a6d269f]{width:100%;background:#fff;position:fixed;bottom:0;left:0;border-radius:%?20?% %?20?% 0 0;padding:%?20?% %?40?%;-webkit-box-sizing:border-box;box-sizing:border-box}.choose1 .address_input>uni-view .type[data-v-5a6d269f]{width:%?140?%;margin-right:%?20?%}.choose1 .address_input>uni-view uni-input[data-v-5a6d269f]{height:auto;margin:0;padding:0;border:0;width:%?460?%;text-align:right}.sub>uni-view[data-v-5a6d269f]{width:50%;text-align:center;line-height:47px;height:47px;color:#fff;font-size:%?28?%}.sub>uni-view[data-v-5a6d269f]:first-child{background:#d7d7d7}.sub>uni-view[data-v-5a6d269f]:nth-child(2){background:#666}.line[data-v-5a6d269f]{border-bottom:%?2?% solid #efefef}.picker[data-v-5a6d269f]{border:0;padding:0;width:%?460?%}.add_moreaddress[data-v-5a6d269f]{padding:%?20?% 0 %?10?%}.more__address[data-v-5a6d269f]{margin-bottom:%?40?%}.more__address uni-input.more_addinp[data-v-5a6d269f]{width:100%!important;text-align:left!important}.be_moadd[data-v-5a6d269f]{padding:%?20?% 0 %?40?%}.ffmd[data-v-5a6d269f]{border:0;width:100%;border-radius:%?80?%;color:#fff;font-size:%?28?%}.ffmd[data-v-5a6d269f]:after{border:0;border-radius:0}.add_usename[data-v-5a6d269f]{font-size:%?28?%;font-weight:700;margin-right:%?20?%}.user_address[data-v-5a6d269f]{font-size:%?24?%;color:#969696}.is_moadd[data-v-5a6d269f]{font-size:%?24?%;color:#969696;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}.icon_both[data-v-5a6d269f]{font-size:%?28?%;margin-right:%?10?%}",""])},5433:function(e,i,t){var a=t("205b");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var d=t("4f06").default;d("0efb15ce",a,!0,{sourceMap:!1,shadowMode:!1})},"7a75":function(e,i,t){"use strict";t.r(i);var a=t("f67a"),d=t("1d65");for(var s in d)"default"!==s&&function(e){t.d(i,e,function(){return d[e]})}(s);t("d08e");var n=t("2877"),o=Object(n["a"])(d["default"],a["a"],a["b"],!1,null,"5a6d269f",null);i["default"]=o.exports},d08e:function(e,i,t){"use strict";var a=t("5433"),d=t.n(a);d.a},f67a:function(e,i,t){"use strict";var a=function(){var e=this,i=e.$createElement,t=e._self._c||i;return e.$imgurl?t("v-uni-view",[e.needAuth?t("auth",{attrs:{needAuth:e.needAuth},on:{closeAuth:function(i){i=e.$handleEvent(i),e.closeAuth(i)},cell:function(i){i=e.$handleEvent(i),e.cell(i)}}}):e._e(),e.needBind?t("bindPhone",{attrs:{needBind:e.needBind},on:{closeBind:function(i){i=e.$handleEvent(i),e.closeBind(i)}}}):e._e(),0==e.address_is?[t("v-uni-image",{staticClass:"pageno_address",attrs:{src:e.$imgurl+"no_store.png"}}),t("v-uni-view",{staticStyle:{"text-align":"center",color:"#666"}},[e._v("还没有收货地址哟~")])]:e._e(),1==e.address_is?[t("v-uni-scroll-view",{style:{height:e.h+"px"},attrs:{"scroll-y":"true"}},e._l(e.myaddress,function(i,a){return t("v-uni-view",{key:a,staticClass:"list"},[t("v-uni-view",{staticClass:"flex-row flex-shu-center flex-between pd1020",attrs:{"data-id":i.id},on:{click:function(i){i=e.$handleEvent(i),e.xuanzaddress(i)}}},[t("v-uni-view",{staticStyle:{color:"#232323"}},[t("v-uni-text",{staticClass:"add_usename"},[e._v(e._s(i.name))]),t("v-uni-text",[e._v(e._s(i.mobile))])],1)],1),t("v-uni-view",{staticClass:"pd1020 user_address",attrs:{"data-id":i.id},on:{click:function(i){i=e.$handleEvent(i),e.xuanzaddress(i)}}},[e._v(e._s(i.address)+" "+e._s(i.more_address))]),t("v-uni-view",{staticStyle:{height:"2rpx",background:"#efefef",margin:"20rpx 0 0"}}),t("v-uni-view",{staticClass:"flex-row flex-shu-center flex-between pd1020"},[t("v-uni-view",{staticClass:"flex-row flex-shu-center",attrs:{"data-id":i.id},on:{click:function(i){i=e.$handleEvent(i),e.moren_set(i)}}},[2==i.is_mo?t("v-uni-image",{staticStyle:{width:"30rpx","margin-right":"10rpx"},attrs:{src:e.$imgurl+"change_h1.png",mode:"widthFix"}}):e._e(),1==i.is_mo?t("v-uni-image",{staticStyle:{width:"30rpx","margin-right":"10rpx"},attrs:{src:e.$imgurl+"btn_c_n.png",mode:"widthFix"}}):e._e(),2==i.is_mo?t("v-uni-view",{staticClass:"is_moadd"},[e._v("默认收货地址")]):e._e(),1==i.is_mo?t("v-uni-view",{staticClass:"is_moadd"},[e._v("设为默认收货地址")]):e._e()],1),t("v-uni-view",{staticClass:"flex-row flex-shu-center is_moadd"},[t("v-uni-view",{staticClass:"flex-row flex-shu-center is_moadd",attrs:{"data-id":i.id},on:{click:function(i){i=e.$handleEvent(i),e.add_address(i)}}},[t("v-uni-view",{staticClass:"iconfont icon-x-bianji1 icon_both"}),t("v-uni-view",{staticClass:"mr30"},[e._v("编辑")])],1),t("v-uni-view",{staticClass:"flex-row flex-shu-center is_moadd",attrs:{"data-id":i.id},on:{click:function(i){i=e.$handleEvent(i),e.deladdress(i)}}},[t("v-uni-view",{staticClass:"iconfont icon-x-delete icon_both"}),t("v-uni-view",[e._v("删除")])],1)],1)],1)],1)}),1)]:e._e(),t("v-uni-view",{staticClass:"foot"},[t("v-uni-view",{staticClass:"flex-row flex-shu-center",style:{width:"100%",background:e.baseinfo.base_color,"border-radius":"80rpx"},on:{click:function(i){i=e.$handleEvent(i),e.add_address(i)}}},[t("v-uni-view",[e._v("新增地址")])],1)],1),1==e.choose?t("v-uni-view",{staticClass:"choose1",style:{height:e.choose_h+"px"}},[t("v-uni-form",{on:{submit:function(i){i=e.$handleEvent(i),e.formSubmit(i)},reset:function(i){i=e.$handleEvent(i),e.formReset(i)}}},[t("v-uni-view",{staticClass:"address_input"},[t("v-uni-view",{staticClass:"address_change"},[t("v-uni-view",{},[e._v(e._s(1==e.changeAdd?"修改地址":"新增地址"))]),t("v-uni-view",{staticClass:"iconfont icon-x-guanbi icon_close",on:{click:function(i){i=e.$handleEvent(i),e.choose_close(i)}}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"flex_bflow line"},[t("v-uni-view",{staticClass:"type"},[e._v("收件人")]),t("v-uni-input",{attrs:{placeholder:"请输入真实姓名","placeholder-style":"color:#d7d7d7",value:e.addressinfo.name,name:"realname"},on:{input:function(i){i=e.$handleEvent(i),e.input_name(i)}}})],1),t("v-uni-view",{staticClass:"flex_bflow line"},[t("v-uni-view",{staticClass:"type"},[e._v("手机号")]),t("v-uni-input",{attrs:{placeholder:"请输入收件人手机号","placeholder-style":"color:#d7d7d7",value:e.addressinfo.mobile,name:"mobile",type:"number",maxlength:"11"},on:{input:function(i){i=e.$handleEvent(i),e.input_mobile(i)}}})],1),t("v-uni-view",{staticClass:"flex_bflow line",staticStyle:{"align-items":"center"}},[t("v-uni-view",{staticClass:"type"},[e._v("所在地区")]),t("v-uni-view",{staticStyle:{width:"100%","text-align":"right"},on:{click:function(i){i=e.$handleEvent(i),e.toggleTab(i)}}},[e._v(e._s(e.region[0])+"，"+e._s(e.region[1])+"，"+e._s(e.region[2]))]),t("w-picker",{ref:"picker",attrs:{mode:e.mode,defaultVal:e.defaultVal,themeColor:"#f00"},on:{confirm:function(i){i=e.$handleEvent(i),e.onConfirm(i)}}})],1),t("v-uni-view",{staticClass:"more__address"},[t("v-uni-view",{staticClass:"add_moreaddress"},[e._v("详细地址")]),t("v-uni-input",{staticClass:"more_addinp",attrs:{placeholder:"请输入详细地址","placeholder-style":"color:#d7d7d7",value:e.addressinfo.more_address,name:"more_address"},on:{input:function(i){i=e.$handleEvent(i),e.input_address(i)}}})],1)],1),t("v-uni-view",{staticClass:"be_moadd flex_bflow"},[t("v-uni-view",[e._v("设为默认地址")]),t("v-uni-switch",{staticStyle:{transform:"scale(0.7)"},attrs:{checked:e.is_checked},on:{change:function(i){i=e.$handleEvent(i),e.switchChange(i)}}})],1),t("v-uni-view",{staticClass:"sub"},[t("v-uni-button",{staticClass:"ffmd",style:{background:e.baseinfo.base_color},attrs:{formType:"submit"}},[e._v("确定")])],1)],1)],1)],1):e._e()],2):e._e()},d=[];t.d(i,"a",function(){return a}),t.d(i,"b",function(){return d})}}]);